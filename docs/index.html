<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Reference | Express Sweet</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.3/css/all.css" integrity="sha384-SZXxX4whJ79/gErwcOYf+zWLeJdY/qpuqC4cAa9rOGUstPomtqpuNWT9wdPEn2fk" crossorigin="anonymous">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/styles/dark.min.css">
  <!-- <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/styles/default.min.css"> -->
  <link href="styles/docs.css" rel="stylesheet">
</head>
<body data-bs-spy="scroll" data-bs-target="#sidenav" data-bs-offset="0">
<header class="navbar navbar-expand-md navbar-dark bd-navbar">
  <nav class="container-xxl justify-content-start" aria-label="Main navigation">
    <a class="navbar-brand p-0 me-2" href="./" aria-label="Bootstrap">
      <img src="images/logo-dark.svg" height="50">
    </a>
    <ul class="navbar-nav flex-row" style="margin-left: auto;">
      <li class="nav-item col-auto">
        <a class="nav-link p-2" href="https://github.com/takuya-motoshima" target="_blank" rel="noopener">
          <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" class="navbar-nav-svg d-inline-block align-text-top" viewBox="0 0 512 499.36" role="img"><title>GitHub</title><path fill="currentColor" fill-rule="evenodd" d="M256 0C114.64 0 0 114.61 0 256c0 113.09 73.34 209 175.08 242.9 12.8 2.35 17.47-5.56 17.47-12.34 0-6.08-.22-22.18-.35-43.54-71.2 15.49-86.2-34.34-86.2-34.34-11.64-29.57-28.42-37.45-28.42-37.45-23.27-15.84 1.73-15.55 1.73-15.55 25.69 1.81 39.21 26.38 39.21 26.38 22.84 39.12 59.92 27.82 74.5 21.27 2.33-16.54 8.94-27.82 16.25-34.22-56.84-6.43-116.6-28.43-116.6-126.49 0-27.95 10-50.8 26.35-68.69-2.63-6.48-11.42-32.5 2.51-67.75 0 0 21.49-6.88 70.4 26.24a242.65 242.65 0 0 1 128.18 0c48.87-33.13 70.33-26.24 70.33-26.24 14 35.25 5.18 61.27 2.55 67.75 16.41 17.9 26.31 40.75 26.31 68.69 0 98.35-59.85 120-116.88 126.32 9.19 7.9 17.38 23.53 17.38 47.41 0 34.22-.31 61.83-.31 70.23 0 6.85 4.61 14.81 17.6 12.31C438.72 464.97 512 369.08 512 256.02 512 114.62 397.37 0 256 0z"></path></svg>
        </a>
      </li>
      <li class="nav-item col-auto">
        <a class="nav-link p-2" href="https://twitter.com/TakuyaMotoshima" target="_blank" rel="noopener">
          <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" class="navbar-nav-svg d-inline-block align-text-top" viewBox="0 0 512 416.32" role="img"><title>Twitter</title><path fill="currentColor" d="M160.83 416.32c193.2 0 298.92-160.22 298.92-298.92 0-4.51 0-9-.2-13.52A214 214 0 0 0 512 49.38a212.93 212.93 0 0 1-60.44 16.6 105.7 105.7 0 0 0 46.3-58.19 209 209 0 0 1-66.79 25.37 105.09 105.09 0 0 0-181.73 71.91 116.12 116.12 0 0 0 2.66 24c-87.28-4.3-164.73-46.3-216.56-109.82A105.48 105.48 0 0 0 68 159.6a106.27 106.27 0 0 1-47.53-13.11v1.43a105.28 105.28 0 0 0 84.21 103.06 105.67 105.67 0 0 1-47.33 1.84 105.06 105.06 0 0 0 98.14 72.94A210.72 210.72 0 0 1 25 370.84a202.17 202.17 0 0 1-25-1.43 298.85 298.85 0 0 0 160.83 46.92"></path></svg>
        </a>
      </li>
      <li class="nav-item col-auto">
        <a class="nav-link p-2" href="https://www.facebook.com/takuya.motoshima.7" target="_blank" rel="noopener">
          <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" class="navbar-nav-svg d-inline-block align-text-top" viewBox="0 0 167.657 167.657" role="img"><title>Facebook</title><path fill="currentColor" d="M83.829,0.349C37.532,0.349,0,37.881,0,84.178c0,41.523,30.222,75.911,69.848,82.57v-65.081H49.626 v-23.42h20.222V60.978c0-20.037,12.238-30.956,30.115-30.956c8.562,0,15.92,0.638,18.056,0.919v20.944l-12.399,0.006 c-9.72,0-11.594,4.618-11.594,11.397v14.947h23.193l-3.025,23.42H94.026v65.653c41.476-5.048,73.631-40.312,73.631-83.154 C167.657,37.881,130.125,0.349,83.829,0.349z"/></svg>
        </a>
      </li>
    </ul>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#sidebar" aria-controls="sidebar" aria-expanded="false" aria-label="Toggle docs navigation">
      <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" class="bi" fill="currentColor" viewBox="0 0 16 16">
        <path fill-rule="evenodd" d="M2.5 11.5A.5.5 0 0 1 3 11h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 7h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 3h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"></path>
      </svg>
    </button>
  </nav>
</header>
<div class="container-xxl my-md-4 bd-layout">

  <aside class="bd-sidebar" id="sidebar">
    <nav class="bd-links align-items-start navbar navbar-light py-0" id="sidenav">
      <nav class="nav nav-pills flex-column flex-nowrap mb-0 py-3 pt-md-1">

        <a class="nav-link" href="#gettingStarted">Getting started</a>
        <nav class="nav nav-pills flex-column flex-nowrap fw-normal small">
          <a class="nav-link" href="#introduction">Introduction</a></li>
          <a class="nav-link" href="#installation">Installation</a></li>
          <a class="nav-link" href="#helloWorldExample">Hello world example</a></li>
          <a class="nav-link" href="#expressSweetAppGenerator">Express Sweet app generator</a></li>
        </nav>
        
        <a class="nav-link" href="#configuration">Configuration</a>
        <nav class="nav nav-pills flex-column flex-nowrap fw-normal small">
          <a class="nav-link" href="#environmentConfiguration">Environment Configuration</a></li>
          <a class="nav-link" href="#basicConfiguration">Basic configuration</a></li>
          <a class="nav-link" href="#viewsConfiguration">View's configuration</a></li>
          <a class="nav-link" href="#authenticationConfiguration">Authentication configuration</a></li>
          <a class="nav-link" href="#databaseConfiguration">Database configuration</a></li>
        </nav>

        <a class="nav-link" href="#routing">Routing</a>

      </nav>
    </nav>
  </aside>

  <main class="bd-main order-1">

    <!--begin::Getting started-->
    <div class="bd-intro ps-lg-4">
      <h1 class="bd-title" id="gettingStarted">Getting started</h1>
      <p class="bd-lead">Extend Express functionality with Express Sweet and start developing fast, minimal web applications.</p>
    </div>

    <div class="bd-content ps-lg-4">

      <!--begin::Introduction-->
      <h2 id="introduction">Introduction</h2>
      <p>
        The package elements that make up this extension.<br>
        In addition, some packages have been customized to make them easier for developers to use.
      </p>

      <div class="row g-3">

        <div class="col-md-6">
          <div class="d-block text-decoration-none">
            <strong class="d-block h5 mb-0 text-primary">Framework</strong>
            <span class="text-secondary">
              The framework uses <a href="https://expressjs.com/" target="_blank">Expess v4</a>.<br>
              Express is a minimal and flexible Node.js web application framework that provides a robust set of features for web and mobile applications.
            </span>
          </div>

        </div>
        
        <div class="col-md-6">
          <div class="d-block text-decoration-none">
            <strong class="d-block h5 mb-0 text-primary">Model</strong>
            <span class="text-secondary">
              The model uses <a href="https://sequelize.org/master/" target="_blank">Sequelize v6</a>.<br>
              Sequelize is a promise-based Node.js ORM for Postgres, MySQL, MariaDB, SQLite and Microsoft SQL Server.<br>
              It features solid transaction support, relations, eager and lazy loading, read replication and more.
            </span>
          </div>
        </div>

        <div class="col-md-6">
          <div class="d-block text-decoration-none">
            <strong class="d-block h5 mb-0 text-primary">View</strong>
            <span class="text-secondary">
              The view template engine uses <a href="https://handlebarsjs.com/" target="_blank">Handlebars v4</a>.<br>
              Handlebars is a simple templating language.<br>
              It uses a template and an input object to generate HTML or other text formats.<br>
              Handlebars templates look like regular text with embedded Handlebars expressions.
            </span>
          </div>
        </div>

        <div class="col-md-6">
          <div class="d-block text-decoration-none">
            <strong class="d-block h5 mb-0 text-primary">User authentication</strong>
            <span class="text-secondary">
              User authentication uses <a href="https://www.passportjs.org/docs/" target="_blank">Passport v0.4.1</a>.<br>
              Passport is Express-compatible authentication middleware for Node.js.
            </span>
          </div>
        </div>

        <div class="col-md-6">
          <div class="d-block text-decoration-none">
            <strong class="d-block h5 mb-0 text-primary">Service</strong>
            <span class="text-secondary">Express Sweet includes convenient classes for developing applications using &quot;<a href="https://docs.aws.amazon.com/rekognition/latest/dg/API_Reference.html" target="_blank">Amazon Rekognition</a>&quot; and classes for easy user authentication.</span>
          </div>
        </div>

        <div class="col-md-6">
          <div class="d-block text-decoration-none">
            <strong class="d-block h5 mb-0 text-primary">Utils</strong>
            <span class="text-secondary">With Express Sweet, you can quickly use a variety of generic utility classes.</span>
          </div>
        </div>
      </div>
      <!--end::Introduction-->

      <!--begin::Installation-->
      <h2 id="installation">Installation</h2>
      <p>Assuming you’ve already installed <a href="https://nodejs.org/" target="_blank">Node.js</a>, create a directory to hold your application, and make that your working directory.</p>
      <pre><code class="bash">mkdir myapp;
cd myapp;</code></pre>

      <p>
        Use the &quot;<em class="code">npm init</em>&quot; command to create a &quot;<em class="code">package.json</em>&quot; file for your application.<br>
        For more information on how &quot;<em class="code">package.json</em>&quot; works, see <a href="https://docs.npmjs.com/files/package.json" target="_blank">Specifics of npm’s package.json handling</a>.
      </p>
      <pre><code class="bash">npm init;</code></pre>

      <p>
        This command prompts you for a number of things, such as the name and version of your application.<br>
        For now, you can simply hit RETURN to accept the defaults for most of them, with the following exception.
      </p>
      <pre><code class="bash">entry point: (index.js)</code></pre>

      <p>
        Enter &quot;<em class="code">app.js</em>&quot;, or whatever you want the name of the main file to be.<br>
        If you want it to be &quot;<em class="code">index.js</em>&quot;, hit RETURN to accept the suggested default file name.
      </p>

      <p>Now install Express Sweet and the dependent packages in the myapp directory and save them in the dependency list.</p>
      <pre><code class="bash">npm i express-sweet \
      express \
      express-hbs \
      express-session \
      sequelize \
      passport \
      passport-local \
      aws-sdk;</code></pre>
      <!--end::Installation-->

      <!--begin::Hello world example-->
      <h2 id="helloWorldExample">Hello world example</h2>
      <pre><code class="js">const express = require('express');
const sweet = require('express-sweet');
const port = 3000;

// Creates and configures an ExpressJS web server.
const app = express();

// Mount the extension.
sweet.mount(app);

// Respond with &quot;hello world&quot; when a GET request is made to the homepage.
app.get('/', (req, res) =&gt; {
  res.send('Hello World!');
});

// Error handling.
sweet.middlewares.ErrorHandling.mount(app);

// Listen for requests on the specified port.
app.listen(port, () =&gt; {
  console.log(`Example app listening at http://localhost:${port}`);
});</code></pre>

      <p>
        This app starts a server and listens on port 3000 for connections.<br>
        The app responds with &quot;Hello World!&quot; for requests to the root URL (<em class="code">/</em>) or <em>route</em>.<br>
        For every other path, it will respond with a <strong>404 Not Found</strong>.
      </p>

      <h3>Running Locally</h3>

      <p>
        First create a directory named &quot;<em class="code">myapp</em>&quot;, change to it and run &quot;<em class="code">npm init</em>&quot;.<br>
        Then install &quot;<em class="code">express</em>&quot; as a dependency, as per the <a href="#installation">installation guide</a>.
      </p>
      <p>In the &quot;<em class="code">myapp</em>&quot; directory, create a file named &quot;<em class="code">app.js</em>&quot; and copy in the code from the example above.</p>

      <p>Run the app with the following command.</p>
      <pre><code class="bash">node app.js;</code></pre>
      <p>Then, load &quot;<em class="code">http://localhost:3000/</em>&quot; in a browser to see the output.</p>
      <!--end::Hello world example-->

      <!--begin::Express Sweet app generator-->
      <h2 id="expressSweetAppGenerator">Express Sweet app generator</h2>
      <p>Use the application generator tool, &quot;<em class="code">express-sweet-generator</em>&quot;, to quickly create an application skeleton.</p>
      <p>Install the application generator as a global npm package and then launch it.</p>
      <pre><code class="bash">npm install -g express-sweet-generator;
express-sweet;</code></pre>
      
      <p>Display the command options with the &quot;<em class="code">-h</em>&quot; option.</p>
      <pre><code class="bash">express-sweet -h;

  Usage: express-sweet [options] [dir]

  Options:

        --version      output the version number
    -p, --port &lt;port&gt;  application listening port (default: 3000)
    -f, --force        force on non-empty directory
    -h, --help         output usage information</code></pre>

      <p>
        For example, the following creates an Express app named &quot;<em class="code">myapp</em>&quot;.<br>
        The app will be created in a folder named &quot;<em class="code">myapp</em>&quot; in the current working directory.
      </p>
      <pre><code class="bash">express-sweet myapp

   create : myapp/bin/www
   create : myapp/ecosystem.config.js
   create : myapp/nginx.sample.conf
   create : myapp/package.json

   change directory:
     $ cd myapp

   install dependencies:
     $ npm install

   run the app:
     $ DEBUG=myapp:* npm start</code></pre>

      <p>Then install dependencies.</p>
      <pre><code class="bash">cd myapp;
npm install;</code></pre>

      <p>
        This sample application uses a database.<br>
        Execute the following SQL to create the database.
      </p>
      <pre><code class="sql">CREATE DATABASE IF NOT EXISTS `example` DEFAULT CHARACTER SET utf8mb4;

USE `example`;

CREATE TABLE `user` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `email` varchar(255) NOT NULL,
  `password` varchar(100) NOT NULL,
  `name` varchar(30) NOT NULL,
  `created` datetime NOT NULL DEFAULT current_timestamp(),
  `modified` datetime NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  PRIMARY KEY (`id`),
  UNIQUE KEY `ukAccount1` (`email`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

INSERT INTO `user` (`email`, `password`, `name`) VALUES
  (&#039;robin@example.com&#039;, &#039;password&#039;, &#039;Robin&#039;),
  (&#039;taylor@example.com&#039;, &#039;password&#039;, &#039;Taylor&#039;),
  (&#039;vivian@example.com&#039;, &#039;password&#039;, &#039;Vivian&#039;),
  (&#039;harry@example.com&#039;, &#039;password&#039;, &#039;Harry&#039;),
  (&#039;eliza@example.com&#039;, &#039;password&#039;, &#039;Eliza&#039;),
  (&#039;nancy@example.com&#039;, &#039;password&#039;, &#039;Nancy&#039;),
  (&#039;melinda@example.com&#039;, &#039;password&#039;, &#039;Melinda&#039;),
  (&#039;harley@example.com&#039;, &#039;password&#039;, &#039;Harley&#039;);</code></pre>

      <p>
        Next, you need to set how the database is connected.<br>
        The database connection method can be set in &quot;<em class="code">config/database.js</em>&quot;, so change it according to your environment.<br>
        See <a href="https://sequelize.org/master/manual/migrations.html#configuration" target="_blank">Sequelize configuration</a> for details on configuration items.
      </p>
      <pre><code class="js">/**
 * DB connection options.
 */
module.exports = {
  development: {
    username: &#039;root&#039;,
    password: null,
    database: &#039;example&#039;,
    host: &#039;localhost&#039;,
    dialect: &#039;mariadb&#039;
  },
  test: {
    username: &#039;root&#039;,
    password: null,
    database: &#039;example&#039;,
    host: &#039;localhost&#039;,
    dialect: &#039;mariadb&#039;
  },
  production: {
    username: &#039;root&#039;,
    password: null,
    database: &#039;example&#039;,
    host: &#039;localhost&#039;,
    dialect: &#039;mariadb&#039;
  }
}</code></pre>

      <p>
        The DB to be used can be defined individually for each environment.<br>
        Specify the environment in the &quot;<em class="code">.env</em>&quot; file.
      </p>
      <pre><code class="ini">NODE_ENV=development</code></pre>

      <p>On MacOS or Linux, run the app with this command.</p>
      <pre><code class="bash">DEBUG=myapp:* npm start;</code></pre>

      <p>On Windows Command Prompt, use this command.</p>
      <pre><code class="bash">set DEBUG=myapp:* &amp; npm start;</code></pre>

      <p>On Windows PowerShell, use this command.</p>
      <pre><code class="bash">$env:DEBUG=&#039;myapp:*&#039;; npm start;</code></pre>

      <p>
        Then load &quot;<em class="code">http://localhost:3000/</em>&quot; in your browser to access the app.<br>
        and you should be greeted by the following page.
      </p>

      <img class="img-fluid mb-5 mx-auto shadow" srcset="images/login.png" src="/docs/5.0/assets/img/bootstrap-themes.png" alt="Login page" height="500">

      <p>The generated app has the following directory structure.</p>
      <pre><code class="bash">.
├── app.js
├── bin
│   └── www
├── config
│   ├── authentication.js
│   ├── config.js
│   ├── database.js
│   ├── hooks.js
│   └── view.js
├── ecosystem.config.js
├── models
│   └── UserModel.js
├── nginx.sample.conf
├── package.json
├── public
│   ├── assets
│   │   ├── images
│   │   │   ├── logo-dark.svg
│   │   │   └── logo.svg
│   │   ├── scripts
│   │   │   ├── docs.js
│   │   │   ├── home.js
│   │   │   ├── login.js
│   │   │   ├── user.js
│   │   │   └── users.js
│   │   └── styles
│   │       ├── docs.css
│   │       ├── home.css
│   │       ├── login.css
│   │       ├── user.css
│   │       └── users.css
│   └── favicon.ico
├── routes
│   ├── api
│   │   └── users.js
│   ├── home.js
│   ├── login.js
│   └── users.js
└── views
    ├── error.hbs
    ├── home.hbs
    ├── layout
    │   └── default.hbs
    ├── login.hbs
    ├── partials
    ├── user.hbs
    └── users.hbs</code></pre>

    <!--end::Express Sweet app generator-->

    </div>
    <!--end::Getting started-->

    <!--begin::Configuration-->
    <div class="bd-intro ps-lg-4">
      <h1 class="bd-title" id="configuration">Configuration</h1>
    </div>

    <div class="bd-content ps-lg-4">

      <!--begin::Environment Configuration-->
      <h2 id="environmentConfiguration">Environment Configuration</h2>
      <p>
        It is often helpful to have different configuration values based on the environment where the application is running.<br>
        For example, you may want to use a different database than the one used on the production server.<br>
        To make this a cinch, Express Sweet utilizes the <a href="https://www.npmjs.com/package/dotenv" target="_blank">dotenv</a> library.<br>
        Express Sweet automatically loads the &quot;<em class="code">.env</em>&quot; file located in the root directory when the application starts and saves the loaded value in &quot;<em class="code">process.env</em>&quot;.
      </p>

      <h3>NODE_ENV</h3>
      <p>
        <em class="code">NODE_ENV</em> is an environment variable made popular by the express web server framework.<br>
        When a node application is run, it can check the value of the environment variable and do different things based on the value.<br>
        <em class="code">NODE_ENV</em> specifically is used (by convention) to state whether a particular environment is a production or a development environment.<br>
        A common use-case is running additional debugging or logging code if running in a development environment.
      </p>

      <p>You can access the environment variables yourself and perform your own checks and logic, as in the following example.</p>
      <pre><code class="js">const environment = process.env.NODE_ENV;
const isDevelopment = environment === &#039;development&#039;
if (isDevelopment) {
  // For development environment.
}</code></pre>

      <!-- <h3 class="code">
        AMAZON_REKOGNITION_REGION<br>
        AMAZON_REKOGNITION_ACCESS_KEY_ID<br>
        AMAZON_REKOGNITION_SECRET_ACCESS_KEY
      </h3> -->
      <!--end::Environment Configuration-->

      <!--begin::Basic configuration-->
      <h2 id="basicConfiguration">Basic configuration</h2>
      <p>
        The basic configuration of Express Sweet is defined in the &quot;<em class="code">config/config.js</em>&quot; file.<br>
        The basic configuration file contains the following configuration values.
      </p>

      <h3>env_path</h3>
      <code>string</code>
      <p>
        The path to the environment configuration file (.env).<br>
        When you start the Express Sweet application, the contents of the environment configuration file are automatically read and saved in &quot;<em class="code">process.env</em>&quot;.<br>
        If the file does not exist or is not specified (undefined), the environment configuration file will not be read.<br>
        The default is &quot;<em class="code">.env</em>&quot;.
      </p>

      <h3>cors_enabled</h3>
      <code>boolean</code>
      <p>
        Set to true to allow requests from another domain to the application.<br>
        The default is <em class="code">false</em>.
      </p>

      <h3>max_body_size</h3>
      <code>string</code>
      <p>
        Controls the maximum request body size.<br>
        If this is a number, then the value specifies the number of bytes.<br>
        if it is a string, the value is passed to the <a href="https://www.npmjs.com/package/bytes" target="_blank">bytes library</a> for parsing.<br>
        The default is &quot;<em class="code">100kb</em>&quot;.
      </p>

      <h3>router_dir</h3>
      <code>string</code>
      <p>
        The directory path where the routes module is located.<br>
        The default is the &quot;<em class="code">routes</em>&quot; directory directly under the application root.
      </p>

      <h3>default_router</h3>
      <code>string</code>
      <p>
        Express Sweet can be told to load a default router when a URI is not present, as will be the case when root URL (<em class="code">/</em>) is requested.<br>
        For example, to specify a default route, set &quot;<em class="code">default_router</em>&quot; as follows.
      </p>
      <pre><code class="js">default_router: &#039;/blog&#039;</code></pre>
      <p>
        Where blog is the name of the router module you want used.<br>
        Next, create the &quot;<em class="code">routes/blog.js</em>&quot; module.
      </p>
      <pre><code class="js">const express = require(&#039;express&#039;);
const router = express.Router();

router.get(&#039;/&#039;, (req, res) =&gt; {
  res.send(&#039;Hello World!&#039;);
});

module.exports = router;</code></pre>
      <p>Now when you request the root URL (<em class="code">/</em>), you will see &quot;Hello World!&quot;.</p>
      <!--end::Basic configuration-->

      <!--begin::View's configuration-->
      <h2 id="viewsConfiguration">View's configuration</h2>
      <p>
        The view (template engine) configuration is defined in the &quot;<em class="code">config/view.js</em>&quot; file.<br>
        The view's configuration file contains the following configuration values.
      </p>

      <h3>views_dir</h3>
      <code>string</code>
      <p>
        The directory path where the view will be placed.<br>
        The default is the &quot;<em class="code">views</em>&quot; directory directly under the application root.
      </p>

      <h3>partials_dir</h3>
      <code>string</code>
      <p>
        The directory path where the reusable templates are located.<br>
        The default is the &quot;<em class="code">views/partials</em>&quot; directory directly under the application root.<br>
        Reusable templates are automatically loaded when you launch the Express Sweet application and can be called from other templates.
      </p>

      <h3>layouts_dir</h3>
      <code>string</code>
      <p>
        The directory path where the reusable base template is located.<br>
        The default is the &quot;<em class="code">views/layout</em>&quot; directory directly under the application root.
      </p>

      <h3>default_layout</h3>
      <code>string</code>
      <p>
        The path to the layout file used by default.<br>
        The default is the &quot;<em class="code">views/layout/default.*</em>&quot; File directly under the application root.<br>
        The extension of the default layout file is replaced with the extension specified by &quot;<em class="code">extension</em>&quot;.
      </p>
 
      <h3>extension</h3>
      <code>string</code>
      <p>
        Extension for templates and partials files.<br>
        The default is &quot;<em class="code">.hbs</em>&quot;.
      </p>
      <!--end::View's configuration-->

      <!--begin::Authentication configuration-->
      <h2 id="authenticationConfiguration">Authentication configuration</h2>
      <p>
        The user authentication configuration is defined in the &quot;<em class="code">config/authentication.js</em>&quot; file.<br>
        The user authentication configuration file contains the following configuration values.
      </p>

      <h3>enabled</h3>
      <code>boolean</code>
      <p>
        Set to true to enable user authentication using <a href="https://www.passportjs.org/docs/" target="_blank">Passport middleware</a>.<br>
        User authentication is enabled (<em class="code">true</em>) by default.
      </p>

      <h3>username</h3>
      <code>string</code>
      <p>
        The login username field name used for authentication.<br>
        This should be set to the same value as the user field name in the POST body sent to the server and the user example name in the login user table.
      </p>

      <h3>password</h3>
      <code>string</code>
      <p>
        The login password field name used for authentication.<br>
        This should be set to the same value as the password field name in the POST body sent to the server and the password column name in the login user table.
      </p>

      <h3>success_redirect</h3>
      <code>string</code>
      <p>
        The URL to redirect to after successful authentication.<br>
        The default is the root URL (<em class="code">/</em>).
      </p>

      <h3>failure_redirect</h3>
      <code>string</code>
      <p>
        Specify the URL to redirect after logging out, or the URL to redirect when the logoff user requests a URL that only the logged-in user can access.<br>
        This usually specifies the URL of the login page.<br>
        The default is &quot;<em class="code">/login</em>&quot;.
      </p>

      <h3>model</h3>
      <code>express-sweet.database.Model</code>
      <p>
        A model class for the table that stores the users to authenticate.<br>
        This should be a subclass that inherits from Express Sweet's &quot;<em class="code">database.Model</em>&quot; class.
      </p>
      <p>For example, when there is user information to authenticate in the &quot;<em class="code">user</em>&quot; table, create &quot;<em class="code">models/UserModel.js</em>&quot;.</p>
      <pre><code class="js">const Model = require(&#039;express-sweet&#039;).database.Model;

/**
 * User model.
 */
module.exports = (class extends Model {
  /**
   * Table name used by the model.
   */
  static get table() {
    return &#039;user&#039;;
  }

  /**
   * Table column list.
   */
  static get attributes() {
    return {
      id: {
        type: Model.DataTypes.INTEGER,
        primaryKey: true,
        autoIncrement: true
      },
      email: Model.DataTypes.STRING,
      password: Model.DataTypes.STRING,
      name: Model.DataTypes.STRING,
      created: Model.DataTypes.DATE,
      modified: Model.DataTypes.DATE
    };
  }
}).mount();</code></pre>

      <p>Next, set the created <em class="code">UserModel</em> class in the &quot;<em class="code">model</em>&quot; item of &quot;<em class="code">config/authentication.js</em>&quot;.</p>
      <pre><code class="js">const UserModel = require(&#039;../models/UserModel&#039;);

/**
 * User authentication configuration interface.
 */
module.exports = {
  /**
   * Model class used for authentication, this is a required field.
   * @type {typeof Model}
   */
  model: UserModel
}</code></pre>

      <p>Now, Express Sweet automatically accesses the &quot;<em class="code">user</em>&quot; table at the time of authentication and performs the authentication process.</p>

      <h3>allow_unauthenticated</h3>
      <code>string[]</code>
      <p>
        By default, it requires an authenticated user for all requests.<br>
        You can use the &quot;<em class="code">allow_unauthenticated</em>&quot; option to disable this behavior on certain requests.
      </p>

      <p>For example, if you don't want to authenticate all requests that contain &quot;api&quot; in the URL, set &quot;<em class="code">allow_unauthenticated</em>&quot; as follows.</p>
      <pre><code class="js">allow_unauthenticated: [
  &#039;/api&#039;
]</code></pre>

      <h3>expiration</h3>
      <code>number</code>
      <p>
        Specifies the time, in milliseconds, before the session expires.<br>
        The default is 24 hours (<em class="code">86400000</em> milliseconds).
      </p>
      <!--end::Authentication configuration-->

      <!--begin::Database configuration-->
      <h2 id="databaseConfiguration">Database configuration</h2>
      <p>
        The database configuration is defined in the &quot;<em class="code">config/database.js</em>&quot; file.<br>
        The database configuration file is separated by environment and contains the following configuration values.<br>
        There are many other database configuration values.<br>
        For more detailed options, see the &quot;Public Constructors&quot; section of <a href="https://sequelize.org/master/class/lib/sequelize.js~Sequelize.html" target="_blank">Sequelize's API reference</a>.
      </p>

      <h3>username</h3>
      <code>string</code>
      <p>The username which is used to authenticate against the database.</p>

      <h3>password</h3>
      <code>string|null</code>
      <p>
        The password which is used to authenticate against the database.<br>
        The default is no password (<em class="code">null</em>).
      </p>

      <h3>database</h3>
      <code>string</code>
      <p>The name of the database.</p>

      <h3>host</h3>
      <code>string</code>
      <p>The host of the relational database.</p>

      <h3>port</h3>
      <code>string</code>
      <p>
        The port of the relational database.<br>
        The default is automatic selection (<em class="code">null</em>).
      </p>

      <h3>dialect</h3>
      <code>string</code>
      <p>
        The dialect of the database you are connecting to.<br>
        One of &quot;<em class="code">mariadb</em>&quot;, &quot;<em class="code">mysql</em>&quot;, &quot;<em class="code">postgres</em>&quot;, &quot;<em class="code">sqlite</em>&quot; and &quot;<em class="code">mssql</em>&quot;.
      </p>

      <h3>logging</h3>
      <code>boolean</code>
      <p>
        Set true to output the executed query etc. to the log.<br>
        The default is no log output (<em class="code">false</em>).
      </p>
      <!--end::Database configuration-->
      <!--end::Basic configuration-->

    </div>
    <!--end::Configuration-->

    <!--begin::Routing-->
    <div class="bd-intro ps-lg-4">
      <h1 class="bd-title" id="routing">Routing</h1>
      <p class="bd-lead"></p>
    </div>

    <div class="bd-content ps-lg-4">
    </div>

    <!--end::Routing-->

  </main>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.slim.min.js" integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/highlight.min.js"></script>
<script src="scripts/docs.js"></script>
</body>
</html>