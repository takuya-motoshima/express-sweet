<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Express Sweet API Reference - v3.0.0</title><meta name="description" content="Documentation for Express Sweet API Reference"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">Express Sweet API Reference - v3.0.0</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>Express Sweet API Reference - v3.0.0</h1></div><div class="tsd-panel tsd-typography"><h1 id="express-sweet" class="tsd-anchor-link">EXPRESS SWEET<a href="#express-sweet" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>EXPRESS SWEET is a powerful Express.js extension that streamlines your development workflow and boosts productivity with a comprehensive suite of utilities and enhancements.</p>
<ul>
<li><a href="#express-sweet">EXPRESS SWEET</a>
<ul>
<li><a href="#features">Features</a></li>
<li><a href="#api-reference">API Reference</a></li>
<li><a href="#express-sweet-generator">EXPRESS SWEET Generator</a></li>
<li><a href="#quick-start">Quick Start</a>
<ul>
<li><a href="#database-setup">Database Setup</a></li>
<li><a href="#database-configuration">Database Configuration</a></li>
<li><a href="#environment-configuration">Environment Configuration</a></li>
<li><a href="#running-the-application">Running the Application</a></li>
</ul>
</li>
<li><a href="#project-structure">Project Structure</a>
<ul>
<li><a href="#key-directories-explained">Key Directories Explained</a></li>
</ul>
</li>
<li><a href="#configuration">Configuration</a>
<ul>
<li><a href="#environment-variables">Environment Variables</a></li>
<li><a href="#base-configuration-configconfigjs">Base Configuration (<code>config/config.js</code>)</a></li>
<li><a href="#database-configuration-configdatabasejs">Database Configuration (<code>config/database.js</code>)</a></li>
<li><a href="#authentication-configuration-configauthenticationjs">Authentication Configuration (<code>config/authentication.js</code>)</a></li>
<li><a href="#view-configuration-configviewjs">View Configuration (<code>config/view.js</code>)</a></li>
<li><a href="#logging-configuration-configloggingjs">Logging Configuration (<code>config/logging.js</code>)</a></li>
</ul>
</li>
<li><a href="#routing">Routing</a>
<ul>
<li><a href="#basic-routing">Basic Routing</a></li>
<li><a href="#nested-routing">Nested Routing</a></li>
<li><a href="#default-routing">Default Routing</a></li>
<li><a href="#routing-methods">Routing Methods</a></li>
</ul>
</li>
<li><a href="#model">Model</a>
<ul>
<li><a href="#accessing-models">Accessing Models</a></li>
<li><a href="#creating-custom-models">Creating Custom Models</a></li>
<li><a href="#model-relationships">Model Relationships</a></li>
</ul>
</li>
<li><a href="#view-system">View System</a>
<ul>
<li><a href="#layout-usage">Layout Usage</a></li>
<li><a href="#template-syntax">Template Syntax</a></li>
<li><a href="#handlebars-helpers">Handlebars Helpers</a>
<ul>
<li><a href="#array-helpers">Array Helpers</a></li>
<li><a href="#comparison-helpers">Comparison Helpers</a></li>
<li><a href="#html-helpers">HTML Helpers</a></li>
<li><a href="#object-helpers">Object Helpers</a></li>
<li><a href="#string-helpers">String Helpers</a></li>
<li><a href="#date-helpers">Date Helpers</a></li>
<li><a href="#number-helpers">Number Helpers</a></li>
<li><a href="#math-helpers">Math Helpers</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#authentication">Authentication</a>
<ul>
<li><a href="#login-example">Login Example</a>
<ul>
<li><a href="#asynchronous-login-ajax">Asynchronous Login (Ajax)</a></li>
<li><a href="#synchronous-login-form-submit">Synchronous Login (Form Submit)</a></li>
</ul>
</li>
<li><a href="#logout-example">Logout Example</a></li>
</ul>
</li>
<li><a href="#examples">Examples</a>
<ul>
<li><a href="#restful-api-development">RESTful API Development</a></li>
<li><a href="#advanced-view-usage">Advanced View Usage</a></li>
<li><a href="#environment-specific-configuration">Environment-Specific Configuration</a></li>
<li><a href="#error-handling">Error Handling</a></li>
</ul>
</li>
<li><a href="#release-notes">Release Notes</a></li>
<li><a href="#author">Author</a></li>
<li><a href="#license">License</a></li>
</ul>
</li>
</ul>
<h2 id="features" class="tsd-anchor-link">Features<a href="#features" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>EXPRESS SWEET provides the following key features to accelerate your development:</p>
<ul>
<li><strong>Automatic Routing</strong>: Files in the <code>routes/</code> directory are automatically mapped to URL endpoints</li>
<li><strong>Database ORM</strong>: Built-in Sequelize integration with automatic connection management</li>
<li><strong>Authentication</strong>: Passport-based authentication system with session management</li>
<li><strong>Template Engine</strong>: Handlebars view engine with custom helpers and layout support</li>
<li><strong>Environment Management</strong>: Automatic environment variable loading and configuration</li>
<li><strong>Logging</strong>: Morgan-based HTTP request logging with customizable formats</li>
<li><strong>CORS Support</strong>: Built-in Cross-Origin Resource Sharing support</li>
<li><strong>Project Generator</strong>: Command-line tool to quickly scaffold new applications</li>
</ul>
<h2 id="api-reference" class="tsd-anchor-link">API Reference<a href="#api-reference" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>ðŸ“– <strong><a href="https://takuya-motoshima.github.io/express-sweet/">Complete API Documentation</a></strong></p>
<p>The comprehensive API reference includes detailed documentation for:</p>
<ul>
<li><strong><a href="https://takuya-motoshima.github.io/express-sweet/modules/database.html">Database</a></strong>: <code>DatabaseManager</code>, <code>Model</code> classes with full Sequelize integration, and <code>loadModels</code> utility</li>
<li><strong><a href="https://takuya-motoshima.github.io/express-sweet/modules/services.html">Services</a></strong>: <code>Authentication</code> service for user login, logout, and session management</li>
<li><strong><a href="https://takuya-motoshima.github.io/express-sweet/modules/handlebars_helpers.html">Handlebars Helpers</a></strong>: Complete collection of template helpers including:
<ul>
<li><strong><a href="https://takuya-motoshima.github.io/express-sweet/modules/handlebars_helpers.array.html">Array</a></strong>: <code>findObjectInArray</code></li>
<li><strong><a href="https://takuya-motoshima.github.io/express-sweet/modules/handlebars_helpers.comparison.html">Comparison</a></strong>: <code>eq</code>, <code>gt</code>, <code>lt</code>, <code>and</code>, <code>or</code>, <code>empty</code>, <code>includes</code>, etc.</li>
<li><strong><a href="https://takuya-motoshima.github.io/express-sweet/modules/handlebars_helpers.string.html">String</a></strong>: <code>replace</code>, <code>split</code>, <code>formatBytes</code></li>
<li><strong><a href="https://takuya-motoshima.github.io/express-sweet/modules/handlebars_helpers.date.html">Date</a></strong>: <code>formatDate</code></li>
<li><strong><a href="https://takuya-motoshima.github.io/express-sweet/modules/handlebars_helpers.math.html">Math</a></strong>: <code>add</code>, <code>subtract</code>, <code>multiply</code>, <code>divide</code>, <code>ceil</code>, <code>floor</code>, <code>abs</code></li>
<li><strong><a href="https://takuya-motoshima.github.io/express-sweet/modules/handlebars_helpers.number.html">Number</a></strong>: <code>number2locale</code></li>
<li><strong><a href="https://takuya-motoshima.github.io/express-sweet/modules/handlebars_helpers.object.html">Object</a></strong>: <code>jsonStringify</code>, <code>jsonParse</code></li>
<li><strong><a href="https://takuya-motoshima.github.io/express-sweet/modules/handlebars_helpers.html.html">HTML</a></strong>: <code>cacheBusting</code>, <code>stripTags</code></li>
<li><strong><a href="https://takuya-motoshima.github.io/express-sweet/modules/handlebars_helpers.layouts.html">Layouts</a></strong>: <code>block</code>, <code>contentFor</code></li>
</ul>
</li>
<li><strong><a href="https://takuya-motoshima.github.io/express-sweet/modules/interfaces.html">Configuration Interfaces</a></strong>: TypeScript interfaces for <code>AuthenticationConfig</code>, <code>BasicConfig</code>, <code>DatabaseConfig</code>, <code>LoggingConfig</code>, <code>ViewConfig</code></li>
<li><strong><a href="https://takuya-motoshima.github.io/express-sweet/modules/middlewares.html">Middlewares</a></strong>: <code>CORS</code>, <code>Environment</code>, <code>ErrorHandler</code>, <code>Global</code>, <code>Http</code>, <code>Local</code>, <code>View</code></li>
<li><strong><a href="https://takuya-motoshima.github.io/express-sweet/modules/routing.html">Routing</a></strong>: <code>Router</code> class for advanced routing functionality</li>
<li><strong><a href="https://takuya-motoshima.github.io/express-sweet/modules/utils.html">Utilities</a></strong>: Type checking functions and configuration loaders</li>
<li><strong><a href="https://takuya-motoshima.github.io/express-sweet/variables/mount.html">Mount Function</a></strong>: Application initialization and setup</li>
</ul>
<h2 id="express-sweet-generator" class="tsd-anchor-link">EXPRESS SWEET Generator<a href="#express-sweet-generator" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Use the application generator tool, <code>express-sweet-generator</code>, to quickly create an application skeleton.</p>
<p><img src="media/demonstration.webp" alt="Image"></p>
<ol>
<li>
<p><strong>Install the generator globally</strong> as an npm package:</p>
<pre><code class="bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-3">-g</span><span class="hl-1"> </span><span class="hl-2">express-sweet-generator</span>
</code><button type="button">Copy</button></pre>

</li>
<li>
<p><strong>Display command options</strong> with the <code>-h</code> flag:</p>
<pre><code class="bash"><span class="hl-0">express-sweet</span><span class="hl-1"> </span><span class="hl-3">-h</span><br/><br/><span class="hl-0">Usage:</span><span class="hl-1"> </span><span class="hl-2">express-sweet</span><span class="hl-1"> [options] [dir]</span><br/><br/><span class="hl-0">Options:</span><br/><span class="hl-1">    </span><span class="hl-0">--version</span><span class="hl-1">                    </span><span class="hl-2">output</span><span class="hl-1"> </span><span class="hl-2">the</span><span class="hl-1"> </span><span class="hl-2">version</span><span class="hl-1"> </span><span class="hl-2">number</span><br/><span class="hl-1">  </span><span class="hl-0">-o,</span><span class="hl-1"> </span><span class="hl-3">--output</span><span class="hl-1"> &lt;</span><span class="hl-2">outpu</span><span class="hl-1">t&gt;         </span><span class="hl-2">add</span><span class="hl-1"> </span><span class="hl-2">output</span><span class="hl-1"> &lt;</span><span class="hl-2">modul</span><span class="hl-1">e&gt; </span><span class="hl-2">support</span><span class="hl-1"> (esm|</span><span class="hl-0">cjs</span><span class="hl-1">) (</span><span class="hl-0">defaults</span><span class="hl-1"> </span><span class="hl-2">to</span><span class="hl-1"> </span><span class="hl-2">cjs</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-0">-p,</span><span class="hl-1"> </span><span class="hl-3">--port</span><span class="hl-1"> &lt;</span><span class="hl-2">por</span><span class="hl-1">t&gt;            </span><span class="hl-2">application</span><span class="hl-1"> </span><span class="hl-2">listening</span><span class="hl-1"> </span><span class="hl-2">port</span><span class="hl-1"> (default: </span><span class="hl-4">3000</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-0">-f,</span><span class="hl-1"> </span><span class="hl-3">--force</span><span class="hl-1">                  </span><span class="hl-2">force</span><span class="hl-1"> </span><span class="hl-2">on</span><span class="hl-1"> </span><span class="hl-2">non-empty</span><span class="hl-1"> </span><span class="hl-2">directory</span><br/><span class="hl-1">  </span><span class="hl-0">-h,</span><span class="hl-1"> </span><span class="hl-3">--help</span><span class="hl-1">                   </span><span class="hl-2">output</span><span class="hl-1"> </span><span class="hl-2">usage</span><span class="hl-1"> </span><span class="hl-2">information</span>
</code><button type="button">Copy</button></pre>

</li>
<li>
<p><strong>Create your application</strong>. For example, the following creates an Express app named <code>myapp</code> using ESM modules:</p>
<pre><code class="bash"><span class="hl-0">express-sweet</span><span class="hl-1"> </span><span class="hl-3">-o</span><span class="hl-1"> </span><span class="hl-2">esm</span><span class="hl-1"> </span><span class="hl-2">myapp</span>
</code><button type="button">Copy</button></pre>

</li>
<li>
<p><strong>Install dependencies</strong> and start developing:</p>
<pre><code class="bash"><span class="hl-0">cd</span><span class="hl-1"> </span><span class="hl-2">myapp/</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span>
</code><button type="button">Copy</button></pre>

</li>
</ol>
<h2 id="quick-start" class="tsd-anchor-link">Quick Start<a href="#quick-start" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="database-setup" class="tsd-anchor-link">Database Setup<a href="#database-setup" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The application skeleton uses a MySQL/MariaDB database. Create a database with the following SQL:</p>
<pre><code class="sql"><span class="hl-5">-- Create database</span><br/><span class="hl-3">CREATE</span><span class="hl-1"> </span><span class="hl-3">DATABASE</span><span class="hl-1"> </span><span class="hl-0">IF</span><span class="hl-1"> </span><span class="hl-3">NOT</span><span class="hl-1"> </span><span class="hl-3">EXISTS</span><span class="hl-1"> </span><span class="hl-2">`sample_db`</span><span class="hl-1"> </span><span class="hl-3">DEFAULT</span><span class="hl-1"> </span><span class="hl-3">CHARACTER</span><span class="hl-1"> </span><span class="hl-3">SET</span><span class="hl-1"> utf8mb4;</span><br/><br/><span class="hl-3">USE</span><span class="hl-1"> </span><span class="hl-2">`sample_db`</span><span class="hl-1">;</span><br/><br/><span class="hl-5">-- User table: Stores user account information</span><br/><span class="hl-3">CREATE</span><span class="hl-1"> </span><span class="hl-3">TABLE</span><span class="hl-1"> `</span><span class="hl-0">user</span><span class="hl-1">` (</span><br/><span class="hl-1">  </span><span class="hl-2">`id`</span><span class="hl-1"> </span><span class="hl-3">int</span><span class="hl-1">(</span><span class="hl-4">10</span><span class="hl-1">) unsigned </span><span class="hl-3">NOT NULL</span><span class="hl-1"> AUTO_INCREMENT COMMENT </span><span class="hl-2">&#39;Primary key&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">`name`</span><span class="hl-1"> </span><span class="hl-3">varchar</span><span class="hl-1">(</span><span class="hl-4">30</span><span class="hl-1">) </span><span class="hl-3">NOT NULL</span><span class="hl-1"> COMMENT </span><span class="hl-2">&#39;User display name&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">`email`</span><span class="hl-1"> </span><span class="hl-3">varchar</span><span class="hl-1">(</span><span class="hl-4">255</span><span class="hl-1">) </span><span class="hl-3">NOT NULL</span><span class="hl-1"> COMMENT </span><span class="hl-2">&#39;User email address (unique)&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">`password`</span><span class="hl-1"> </span><span class="hl-3">varchar</span><span class="hl-1">(</span><span class="hl-4">100</span><span class="hl-1">) </span><span class="hl-3">NOT NULL</span><span class="hl-1"> COMMENT </span><span class="hl-2">&#39;Encrypted password&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">`icon`</span><span class="hl-1"> </span><span class="hl-3">varchar</span><span class="hl-1">(</span><span class="hl-4">768</span><span class="hl-1">) </span><span class="hl-3">NOT NULL</span><span class="hl-1"> </span><span class="hl-3">DEFAULT</span><span class="hl-1"> MD5(</span><span class="hl-0">RAND</span><span class="hl-1">()) COMMENT </span><span class="hl-2">&#39;User icon path or identifier&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">`created`</span><span class="hl-1"> </span><span class="hl-3">datetime</span><span class="hl-1"> </span><span class="hl-3">NOT NULL</span><span class="hl-1"> </span><span class="hl-3">DEFAULT</span><span class="hl-1"> </span><span class="hl-0">current_timestamp</span><span class="hl-1">() COMMENT </span><span class="hl-2">&#39;Record creation timestamp&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">`modified`</span><span class="hl-1"> </span><span class="hl-3">datetime</span><span class="hl-1"> </span><span class="hl-3">NOT NULL</span><span class="hl-1"> </span><span class="hl-3">DEFAULT</span><span class="hl-1"> </span><span class="hl-0">current_timestamp</span><span class="hl-1">() </span><span class="hl-3">ON UPDATE</span><span class="hl-1"> </span><span class="hl-0">current_timestamp</span><span class="hl-1">() COMMENT </span><span class="hl-2">&#39;Record last modified timestamp&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-3">PRIMARY KEY</span><span class="hl-1"> (</span><span class="hl-2">`id`</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-3">UNIQUE</span><span class="hl-1"> </span><span class="hl-3">KEY</span><span class="hl-1"> </span><span class="hl-2">`ukUserEmail`</span><span class="hl-1"> (</span><span class="hl-2">`email`</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-3">UNIQUE</span><span class="hl-1"> </span><span class="hl-3">KEY</span><span class="hl-1"> </span><span class="hl-2">`ukUserIcon`</span><span class="hl-1">(</span><span class="hl-2">`icon`</span><span class="hl-1">)</span><br/><span class="hl-1">) ENGINE=InnoDB </span><span class="hl-3">DEFAULT</span><span class="hl-1"> CHARSET=utf8mb4 COMMENT=</span><span class="hl-2">&#39;User accounts table&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">-- Profile table: Stores additional user profile information</span><br/><span class="hl-3">CREATE</span><span class="hl-1"> </span><span class="hl-3">TABLE</span><span class="hl-1"> `</span><span class="hl-0">profile</span><span class="hl-1">` (</span><br/><span class="hl-1">  </span><span class="hl-2">`id`</span><span class="hl-1"> </span><span class="hl-3">int</span><span class="hl-1">(</span><span class="hl-4">10</span><span class="hl-1">) unsigned </span><span class="hl-3">NOT NULL</span><span class="hl-1"> AUTO_INCREMENT COMMENT </span><span class="hl-2">&#39;Primary key&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">`userId`</span><span class="hl-1"> </span><span class="hl-3">int</span><span class="hl-1">(</span><span class="hl-4">10</span><span class="hl-1">) unsigned </span><span class="hl-3">NOT NULL</span><span class="hl-1"> COMMENT </span><span class="hl-2">&#39;Foreign key to user table&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">`address`</span><span class="hl-1"> </span><span class="hl-3">varchar</span><span class="hl-1">(</span><span class="hl-4">255</span><span class="hl-1">) </span><span class="hl-3">NOT NULL</span><span class="hl-1"> COMMENT </span><span class="hl-2">&#39;User address&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">`tel`</span><span class="hl-1"> </span><span class="hl-3">varchar</span><span class="hl-1">(</span><span class="hl-4">14</span><span class="hl-1">) </span><span class="hl-3">NOT NULL</span><span class="hl-1"> COMMENT </span><span class="hl-2">&#39;User telephone number&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">`created`</span><span class="hl-1"> </span><span class="hl-3">datetime</span><span class="hl-1"> </span><span class="hl-3">NOT NULL</span><span class="hl-1"> </span><span class="hl-3">DEFAULT</span><span class="hl-1"> </span><span class="hl-0">current_timestamp</span><span class="hl-1">() COMMENT </span><span class="hl-2">&#39;Record creation timestamp&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">`modified`</span><span class="hl-1"> </span><span class="hl-3">datetime</span><span class="hl-1"> </span><span class="hl-3">NOT NULL</span><span class="hl-1"> </span><span class="hl-3">DEFAULT</span><span class="hl-1"> </span><span class="hl-0">current_timestamp</span><span class="hl-1">() </span><span class="hl-3">ON UPDATE</span><span class="hl-1"> </span><span class="hl-0">current_timestamp</span><span class="hl-1">() COMMENT </span><span class="hl-2">&#39;Record last modified timestamp&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-3">PRIMARY KEY</span><span class="hl-1"> (</span><span class="hl-2">`id`</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-3">UNIQUE</span><span class="hl-1"> </span><span class="hl-3">KEY</span><span class="hl-1"> </span><span class="hl-2">`ukProfileUserId`</span><span class="hl-1"> (</span><span class="hl-2">`userId`</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-3">CONSTRAINT</span><span class="hl-1"> </span><span class="hl-2">`fkProfileUser`</span><span class="hl-1"> </span><span class="hl-3">FOREIGN KEY</span><span class="hl-1"> (</span><span class="hl-2">`userId`</span><span class="hl-1">) </span><span class="hl-3">REFERENCES</span><span class="hl-1"> </span><span class="hl-2">`user`</span><span class="hl-1"> (</span><span class="hl-2">`id`</span><span class="hl-1">) </span><span class="hl-3">ON DELETE CASCADE</span><br/><span class="hl-1">) ENGINE=InnoDB </span><span class="hl-3">DEFAULT</span><span class="hl-1"> CHARSET=utf8mb4 COMMENT=</span><span class="hl-2">&#39;User profiles table&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">-- Comment table: Stores user comments</span><br/><span class="hl-3">CREATE</span><span class="hl-1"> </span><span class="hl-3">TABLE</span><span class="hl-1"> `</span><span class="hl-0">comment</span><span class="hl-1">` (</span><br/><span class="hl-1">  </span><span class="hl-2">`id`</span><span class="hl-1"> </span><span class="hl-3">int</span><span class="hl-1">(</span><span class="hl-4">10</span><span class="hl-1">) unsigned </span><span class="hl-3">NOT NULL</span><span class="hl-1"> AUTO_INCREMENT COMMENT </span><span class="hl-2">&#39;Primary key&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">`userId`</span><span class="hl-1"> </span><span class="hl-3">int</span><span class="hl-1">(</span><span class="hl-4">10</span><span class="hl-1">) unsigned </span><span class="hl-3">NOT NULL</span><span class="hl-1"> COMMENT </span><span class="hl-2">&#39;Foreign key to user table&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">`text`</span><span class="hl-1"> </span><span class="hl-3">text</span><span class="hl-1"> </span><span class="hl-3">NOT NULL</span><span class="hl-1"> COMMENT </span><span class="hl-2">&#39;Comment text content&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">`created`</span><span class="hl-1"> </span><span class="hl-3">datetime</span><span class="hl-1"> </span><span class="hl-3">NOT NULL</span><span class="hl-1"> </span><span class="hl-3">DEFAULT</span><span class="hl-1"> </span><span class="hl-0">current_timestamp</span><span class="hl-1">() COMMENT </span><span class="hl-2">&#39;Record creation timestamp&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">`modified`</span><span class="hl-1"> </span><span class="hl-3">datetime</span><span class="hl-1"> </span><span class="hl-3">NOT NULL</span><span class="hl-1"> </span><span class="hl-3">DEFAULT</span><span class="hl-1"> </span><span class="hl-0">current_timestamp</span><span class="hl-1">() </span><span class="hl-3">ON UPDATE</span><span class="hl-1"> </span><span class="hl-0">current_timestamp</span><span class="hl-1">() COMMENT </span><span class="hl-2">&#39;Record last modified timestamp&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-3">PRIMARY KEY</span><span class="hl-1"> (</span><span class="hl-2">`id`</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-3">CONSTRAINT</span><span class="hl-1"> </span><span class="hl-2">`fkCommentUser`</span><span class="hl-1"> </span><span class="hl-3">FOREIGN KEY</span><span class="hl-1"> (</span><span class="hl-2">`userId`</span><span class="hl-1">) </span><span class="hl-3">REFERENCES</span><span class="hl-1"> </span><span class="hl-2">`user`</span><span class="hl-1"> (</span><span class="hl-2">`id`</span><span class="hl-1">) </span><span class="hl-3">ON DELETE CASCADE</span><br/><span class="hl-1">) ENGINE=InnoDB </span><span class="hl-3">DEFAULT</span><span class="hl-1"> CHARSET=utf8mb4 COMMENT=</span><span class="hl-2">&#39;User comments table&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">-- Book table: Stores user books</span><br/><span class="hl-3">CREATE</span><span class="hl-1"> </span><span class="hl-3">TABLE</span><span class="hl-1"> `</span><span class="hl-0">book</span><span class="hl-1">` (</span><br/><span class="hl-1">  </span><span class="hl-2">`id`</span><span class="hl-1"> </span><span class="hl-3">int</span><span class="hl-1">(</span><span class="hl-4">10</span><span class="hl-1">) unsigned </span><span class="hl-3">NOT NULL</span><span class="hl-1"> AUTO_INCREMENT COMMENT </span><span class="hl-2">&#39;Primary key&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">`userId`</span><span class="hl-1"> </span><span class="hl-3">int</span><span class="hl-1">(</span><span class="hl-4">10</span><span class="hl-1">) unsigned </span><span class="hl-3">NOT NULL</span><span class="hl-1"> COMMENT </span><span class="hl-2">&#39;Foreign key to user table&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">`title`</span><span class="hl-1"> </span><span class="hl-3">text</span><span class="hl-1"> </span><span class="hl-3">NOT NULL</span><span class="hl-1"> COMMENT </span><span class="hl-2">&#39;Book title&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">`created`</span><span class="hl-1"> </span><span class="hl-3">datetime</span><span class="hl-1"> </span><span class="hl-3">NOT NULL</span><span class="hl-1"> </span><span class="hl-3">DEFAULT</span><span class="hl-1"> </span><span class="hl-0">current_timestamp</span><span class="hl-1">() COMMENT </span><span class="hl-2">&#39;Record creation timestamp&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">`modified`</span><span class="hl-1"> </span><span class="hl-3">datetime</span><span class="hl-1"> </span><span class="hl-3">NOT NULL</span><span class="hl-1"> </span><span class="hl-3">DEFAULT</span><span class="hl-1"> </span><span class="hl-0">current_timestamp</span><span class="hl-1">() </span><span class="hl-3">ON UPDATE</span><span class="hl-1"> </span><span class="hl-0">current_timestamp</span><span class="hl-1">() COMMENT </span><span class="hl-2">&#39;Record last modified timestamp&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-3">PRIMARY KEY</span><span class="hl-1"> (</span><span class="hl-2">`id`</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-3">UNIQUE</span><span class="hl-1"> </span><span class="hl-3">KEY</span><span class="hl-1"> </span><span class="hl-2">`ukBookTitle`</span><span class="hl-1"> (</span><span class="hl-2">`userId`</span><span class="hl-1">, </span><span class="hl-2">`title`</span><span class="hl-1">(</span><span class="hl-4">255</span><span class="hl-1">)),</span><br/><span class="hl-1">  </span><span class="hl-3">CONSTRAINT</span><span class="hl-1"> </span><span class="hl-2">`fkBookUser`</span><span class="hl-1"> </span><span class="hl-3">FOREIGN KEY</span><span class="hl-1"> (</span><span class="hl-2">`userId`</span><span class="hl-1">) </span><span class="hl-3">REFERENCES</span><span class="hl-1"> </span><span class="hl-2">`user`</span><span class="hl-1"> (</span><span class="hl-2">`id`</span><span class="hl-1">) </span><span class="hl-3">ON DELETE CASCADE</span><br/><span class="hl-1">) ENGINE=InnoDB </span><span class="hl-3">DEFAULT</span><span class="hl-1"> CHARSET=utf8mb4 COMMENT=</span><span class="hl-2">&#39;User books table&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">-- Sample data insertion</span><br/><span class="hl-3">INSERT INTO</span><span class="hl-1"> </span><span class="hl-2">`user`</span><span class="hl-1"> (</span><span class="hl-2">`id`</span><span class="hl-1">, </span><span class="hl-2">`email`</span><span class="hl-1">, </span><span class="hl-2">`password`</span><span class="hl-1">, </span><span class="hl-2">`name`</span><span class="hl-1">, </span><span class="hl-2">`icon`</span><span class="hl-1">) </span><span class="hl-3">VALUES</span><br/><span class="hl-1">  (</span><span class="hl-4">1</span><span class="hl-1">, </span><span class="hl-2">&#39;robin@example.com&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;password&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;Robin&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;/upload/1.png&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">  (</span><span class="hl-4">2</span><span class="hl-1">, </span><span class="hl-2">&#39;taylor@example.com&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;password&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;Taylor&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;/upload/2.png&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">INSERT INTO</span><span class="hl-1"> </span><span class="hl-2">`profile`</span><span class="hl-1"> (</span><span class="hl-2">`userId`</span><span class="hl-1">, </span><span class="hl-2">`address`</span><span class="hl-1">, </span><span class="hl-2">`tel`</span><span class="hl-1">) </span><span class="hl-3">VALUES</span><br/><span class="hl-1">  (</span><span class="hl-4">1</span><span class="hl-1">, </span><span class="hl-2">&#39;777 Brockton Avenue, Abington MA 2351&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;202-555-0105&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">  (</span><span class="hl-4">2</span><span class="hl-1">, </span><span class="hl-2">&#39;30 Memorial Drive, Avon MA 2322&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">INSERT INTO</span><span class="hl-1"> </span><span class="hl-2">`comment`</span><span class="hl-1"> (</span><span class="hl-2">`userId`</span><span class="hl-1">, </span><span class="hl-2">`text`</span><span class="hl-1">) </span><span class="hl-3">VALUES</span><br/><span class="hl-1">  (</span><span class="hl-4">1</span><span class="hl-1">, </span><span class="hl-2">&#39;From Robin #1&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">  (</span><span class="hl-4">1</span><span class="hl-1">, </span><span class="hl-2">&#39;From Robin #2&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">  (</span><span class="hl-4">2</span><span class="hl-1">, </span><span class="hl-2">&#39;From Taylor #1&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">INSERT INTO</span><span class="hl-1"> </span><span class="hl-2">`book`</span><span class="hl-1"> (</span><span class="hl-2">`userId`</span><span class="hl-1">, </span><span class="hl-2">`title`</span><span class="hl-1">) </span><span class="hl-3">VALUES</span><br/><span class="hl-1">  (</span><span class="hl-4">1</span><span class="hl-1">, </span><span class="hl-2">&#39;Beautiful&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">  (</span><span class="hl-4">1</span><span class="hl-1">, </span><span class="hl-2">&#39;Lose Yourself&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">  (</span><span class="hl-4">2</span><span class="hl-1">, </span><span class="hl-2">&#39;When Im Gone&#39;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h3 id="database-configuration" class="tsd-anchor-link">Database Configuration<a href="#database-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Configure the database connection in <code>config/database.js</code>. For detailed options, refer to the <a href="https://sequelize.org/docs/v6/other-topics/migrations/#cfg">Sequelize documentation</a>.</p>
<pre><code class="js"><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-6">default</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-7">development:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">username:</span><span class="hl-1"> </span><span class="hl-2">&#39;root&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">password:</span><span class="hl-1"> </span><span class="hl-2">&#39;password&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">database:</span><span class="hl-1"> </span><span class="hl-2">&#39;sample_db&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">host:</span><span class="hl-1"> </span><span class="hl-2">&#39;localhost&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">dialect:</span><span class="hl-1"> </span><span class="hl-2">&#39;mariadb&#39;</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-7">test:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">username:</span><span class="hl-1"> </span><span class="hl-2">&#39;root&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">password:</span><span class="hl-1"> </span><span class="hl-2">&#39;password&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">database:</span><span class="hl-1"> </span><span class="hl-2">&#39;sample_db&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">host:</span><span class="hl-1"> </span><span class="hl-2">&#39;localhost&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">dialect:</span><span class="hl-1"> </span><span class="hl-2">&#39;mariadb&#39;</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-7">production:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">username:</span><span class="hl-1"> </span><span class="hl-2">&#39;root&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">password:</span><span class="hl-1"> </span><span class="hl-2">&#39;password&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">database:</span><span class="hl-1"> </span><span class="hl-2">&#39;sample_db&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">host:</span><span class="hl-1"> </span><span class="hl-2">&#39;localhost&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">dialect:</span><span class="hl-1"> </span><span class="hl-2">&#39;mariadb&#39;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="environment-configuration" class="tsd-anchor-link">Environment Configuration<a href="#environment-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The database environment can be defined for each deployment stage. Specify the environment in the <code>.env</code> file:</p>
<pre><code class="bash"><span class="hl-7">NODE_ENV</span><span class="hl-1">=</span><span class="hl-2">development</span>
</code><button type="button">Copy</button></pre>

<h3 id="running-the-application" class="tsd-anchor-link">Running the Application<a href="#running-the-application" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Start the application with the following command:</p>
<pre><code class="bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">start</span>
</code><button type="button">Copy</button></pre>

<p>Then open <code>http://localhost:3000/</code> in your browser to access the application.</p>
<h2 id="project-structure" class="tsd-anchor-link">Project Structure<a href="#project-structure" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The generated application has the following directory structure:</p>
<pre><code class="bash"><span class="hl-0">.</span><br/><span class="hl-0">â”œâ”€â”€</span><span class="hl-1"> </span><span class="hl-2">.env</span><span class="hl-1">                          </span><span class="hl-5"># Environment variables configuration</span><br/><span class="hl-0">â”œâ”€â”€</span><span class="hl-1"> </span><span class="hl-2">app.js</span><span class="hl-1">                        </span><span class="hl-5"># Main application entry point</span><br/><span class="hl-0">â”œâ”€â”€</span><span class="hl-1"> </span><span class="hl-2">ecosystem.config.js</span><span class="hl-1">           </span><span class="hl-5"># PM2 process manager configuration</span><br/><span class="hl-0">â”œâ”€â”€</span><span class="hl-1"> </span><span class="hl-2">nginx.sample.conf</span><span class="hl-1">             </span><span class="hl-5"># Sample Nginx reverse proxy configuration</span><br/><span class="hl-0">â”œâ”€â”€</span><span class="hl-1"> </span><span class="hl-2">package.json</span><span class="hl-1">                  </span><span class="hl-5"># Node.js dependencies and scripts</span><br/><span class="hl-0">â”œâ”€â”€</span><span class="hl-1"> </span><span class="hl-2">bin</span><br/><span class="hl-0">â”‚</span><span class="hl-1">   </span><span class="hl-2">â””â”€â”€</span><span class="hl-1"> </span><span class="hl-2">www</span><span class="hl-1">                       </span><span class="hl-5"># Application startup script</span><br/><span class="hl-0">â”œâ”€â”€</span><span class="hl-1"> </span><span class="hl-2">client</span><span class="hl-1">                        </span><span class="hl-5"># Frontend application directory</span><br/><span class="hl-0">â”‚</span><span class="hl-1">   </span><span class="hl-2">â”œâ”€â”€</span><span class="hl-1"> </span><span class="hl-2">package.json</span><span class="hl-1">              </span><span class="hl-5"># Frontend dependencies</span><br/><span class="hl-0">â”‚</span><span class="hl-1">   </span><span class="hl-2">â”œâ”€â”€</span><span class="hl-1"> </span><span class="hl-2">webpack.config.js</span><span class="hl-1">         </span><span class="hl-5"># Webpack bundler configuration</span><br/><span class="hl-0">â”‚</span><span class="hl-1">   </span><span class="hl-2">â””â”€â”€</span><span class="hl-1"> </span><span class="hl-2">src</span><span class="hl-1">                       </span><span class="hl-5"># Frontend source code</span><br/><span class="hl-0">â”œâ”€â”€</span><span class="hl-1"> </span><span class="hl-2">config</span><span class="hl-1">                        </span><span class="hl-5"># Application configuration files</span><br/><span class="hl-0">â”‚</span><span class="hl-1">   </span><span class="hl-2">â”œâ”€â”€</span><span class="hl-1"> </span><span class="hl-2">authentication.js</span><span class="hl-1">         </span><span class="hl-5"># Authentication and session settings</span><br/><span class="hl-0">â”‚</span><span class="hl-1">   </span><span class="hl-2">â”œâ”€â”€</span><span class="hl-1"> </span><span class="hl-2">config.js</span><span class="hl-1">                 </span><span class="hl-5"># Core application configuration</span><br/><span class="hl-0">â”‚</span><span class="hl-1">   </span><span class="hl-2">â”œâ”€â”€</span><span class="hl-1"> </span><span class="hl-2">database.js</span><span class="hl-1">               </span><span class="hl-5"># Database connection settings</span><br/><span class="hl-0">â”‚</span><span class="hl-1">   </span><span class="hl-2">â”œâ”€â”€</span><span class="hl-1"> </span><span class="hl-2">logging.js</span><span class="hl-1">                </span><span class="hl-5"># HTTP request logging configuration</span><br/><span class="hl-0">â”‚</span><span class="hl-1">   </span><span class="hl-2">â””â”€â”€</span><span class="hl-1"> </span><span class="hl-2">view.js</span><span class="hl-1">                   </span><span class="hl-5"># Template engine configuration</span><br/><span class="hl-0">â”œâ”€â”€</span><span class="hl-1"> </span><span class="hl-2">errors</span><span class="hl-1">                        </span><span class="hl-5"># Custom error classes</span><br/><span class="hl-0">â”‚</span><span class="hl-1">   </span><span class="hl-2">â””â”€â”€</span><span class="hl-1"> </span><span class="hl-2">UserNotFound.js</span><span class="hl-1">           </span><span class="hl-5"># Custom error definitions</span><br/><span class="hl-0">â”œâ”€â”€</span><span class="hl-1"> </span><span class="hl-2">models</span><span class="hl-1">                        </span><span class="hl-5"># Database models (Sequelize ORM)</span><br/><span class="hl-0">â”‚</span><span class="hl-1">   </span><span class="hl-2">â”œâ”€â”€</span><span class="hl-1"> </span><span class="hl-2">BookModel.js</span><span class="hl-1">              </span><span class="hl-5"># Book entity model</span><br/><span class="hl-0">â”‚</span><span class="hl-1">   </span><span class="hl-2">â”œâ”€â”€</span><span class="hl-1"> </span><span class="hl-2">CommentModel.js</span><span class="hl-1">           </span><span class="hl-5"># Comment entity model</span><br/><span class="hl-0">â”‚</span><span class="hl-1">   </span><span class="hl-2">â”œâ”€â”€</span><span class="hl-1"> </span><span class="hl-2">ProfileModel.js</span><span class="hl-1">           </span><span class="hl-5"># User profile model</span><br/><span class="hl-0">â”‚</span><span class="hl-1">   </span><span class="hl-2">â””â”€â”€</span><span class="hl-1"> </span><span class="hl-2">UserModel.js</span><span class="hl-1">              </span><span class="hl-5"># User entity model</span><br/><span class="hl-0">â”œâ”€â”€</span><span class="hl-1"> </span><span class="hl-2">public</span><span class="hl-1">                        </span><span class="hl-5"># Static assets directory</span><br/><span class="hl-0">â”‚</span><span class="hl-1">   </span><span class="hl-2">â”œâ”€â”€</span><span class="hl-1"> </span><span class="hl-2">build</span><span class="hl-1">                     </span><span class="hl-5"># Compiled frontend assets</span><br/><span class="hl-0">â”‚</span><span class="hl-1">   </span><span class="hl-2">â””â”€â”€</span><span class="hl-1"> </span><span class="hl-2">upload</span><span class="hl-1">                    </span><span class="hl-5"># User uploaded files</span><br/><span class="hl-0">â”œâ”€â”€</span><span class="hl-1"> </span><span class="hl-2">routes</span><span class="hl-1">                        </span><span class="hl-5"># Express route definitions</span><br/><span class="hl-0">â”‚</span><span class="hl-1">   </span><span class="hl-2">â”œâ”€â”€</span><span class="hl-1"> </span><span class="hl-2">login.js</span><span class="hl-1">                  </span><span class="hl-5"># Authentication routes</span><br/><span class="hl-0">â”‚</span><span class="hl-1">   </span><span class="hl-2">â”œâ”€â”€</span><span class="hl-1"> </span><span class="hl-2">users.js</span><span class="hl-1">                  </span><span class="hl-5"># User management routes</span><br/><span class="hl-0">â”‚</span><span class="hl-1">   </span><span class="hl-2">â””â”€â”€</span><span class="hl-1"> </span><span class="hl-2">api</span><span class="hl-1">                       </span><span class="hl-5"># API endpoints</span><br/><span class="hl-0">â”‚</span><span class="hl-1">       </span><span class="hl-2">â””â”€â”€</span><span class="hl-1"> </span><span class="hl-2">users.js</span><span class="hl-1">              </span><span class="hl-5"># User API routes</span><br/><span class="hl-0">â”œâ”€â”€</span><span class="hl-1"> </span><span class="hl-2">shared</span><span class="hl-1">                        </span><span class="hl-5"># Shared utilities and helpers</span><br/><span class="hl-0">â”‚</span><span class="hl-1">   </span><span class="hl-2">â”œâ”€â”€</span><span class="hl-1"> </span><span class="hl-2">CustomValidation.js</span><span class="hl-1">       </span><span class="hl-5"># Custom validation functions</span><br/><span class="hl-0">â”‚</span><span class="hl-1">   </span><span class="hl-2">â””â”€â”€</span><span class="hl-1"> </span><span class="hl-2">empty.js</span><span class="hl-1">                  </span><span class="hl-5"># Utility functions</span><br/><span class="hl-0">â””â”€â”€</span><span class="hl-1"> </span><span class="hl-2">views</span><span class="hl-1">                         </span><span class="hl-5"># Handlebars template files</span><br/><span class="hl-1">    </span><span class="hl-0">â”œâ”€â”€</span><span class="hl-1"> </span><span class="hl-2">edit-personal.hbs</span><span class="hl-1">         </span><span class="hl-5"># Profile editing template</span><br/><span class="hl-1">    </span><span class="hl-0">â”œâ”€â”€</span><span class="hl-1"> </span><span class="hl-2">error.hbs</span><span class="hl-1">                 </span><span class="hl-5"># Error page template</span><br/><span class="hl-1">    </span><span class="hl-0">â”œâ”€â”€</span><span class="hl-1"> </span><span class="hl-2">login.hbs</span><span class="hl-1">                 </span><span class="hl-5"># Login page template</span><br/><span class="hl-1">    </span><span class="hl-0">â”œâ”€â”€</span><span class="hl-1"> </span><span class="hl-2">personal.hbs</span><span class="hl-1">              </span><span class="hl-5"># Profile display template</span><br/><span class="hl-1">    </span><span class="hl-0">â”œâ”€â”€</span><span class="hl-1"> </span><span class="hl-2">users.hbs</span><span class="hl-1">                 </span><span class="hl-5"># Users listing template</span><br/><span class="hl-1">    </span><span class="hl-0">â”œâ”€â”€</span><span class="hl-1"> </span><span class="hl-2">layout</span><span class="hl-1">                    </span><span class="hl-5"># Layout templates</span><br/><span class="hl-1">    </span><span class="hl-0">â”‚</span><span class="hl-1">   </span><span class="hl-2">â””â”€â”€</span><span class="hl-1"> </span><span class="hl-2">default.hbs</span><span class="hl-1">           </span><span class="hl-5"># Default page layout</span><br/><span class="hl-1">    </span><span class="hl-0">â””â”€â”€</span><span class="hl-1"> </span><span class="hl-2">partials</span><span class="hl-1">                  </span><span class="hl-5"># Reusable template components</span><br/><span class="hl-1">        </span><span class="hl-0">â””â”€â”€</span><span class="hl-1"> </span><span class="hl-2">.gitkeep</span><span class="hl-1">              </span><span class="hl-5"># Placeholder for partial templates</span>
</code><button type="button">Copy</button></pre>

<h3 id="key-directories-explained" class="tsd-anchor-link">Key Directories Explained<a href="#key-directories-explained" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><strong>Configuration (<code>config/</code>)</strong><br>
Contains all application settings divided by functionality. Modify these files to customize database connections, authentication behavior, view rendering, and logging.</p>
<p><strong>Models (<code>models/</code>)</strong><br>
Database entities using Sequelize ORM. Each model represents a database table and defines the schema, relationships, and business logic for that entity.</p>
<p><strong>Routes (<code>routes/</code>)</strong><br>
URL endpoint handlers organized by feature. The file structure automatically maps to URL paths - for example, <code>routes/api/users.js</code> handles requests to <code>/api/users</code>.</p>
<p><strong>Views (<code>views/</code>)</strong><br>
Handlebars templates for rendering HTML pages. The <code>layout/</code> directory contains base templates, while <code>partials/</code> holds reusable components.</p>
<p><strong>Public (<code>public/</code>)</strong><br>
Static files served directly by the web server. The <code>build/</code> directory contains compiled frontend assets, while <code>upload/</code> stores user-generated content.</p>
<h2 id="configuration" class="tsd-anchor-link">Configuration<a href="#configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>EXPRESS SWEET uses several configuration files to customize application behavior. Each configuration file corresponds to a specific aspect of the framework:</p>
<h3 id="environment-variables" class="tsd-anchor-link">Environment Variables<a href="#environment-variables" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>If you set the environment variable file in <code>env_path</code> of <code>config/config.js</code>, the values will be automatically loaded into <code>process.env</code>.</p>
<p>The <code>NODE_ENV</code> environment variable is required. If omitted, <code>development</code> is used by default.</p>
<p>You can access environment variables and perform custom logic as needed:</p>
<pre><code class="js"><span class="hl-6">if</span><span class="hl-1"> (</span><span class="hl-7">process</span><span class="hl-1">.</span><span class="hl-7">env</span><span class="hl-1">.</span><span class="hl-8">NODE_ENV</span><span class="hl-1"> === </span><span class="hl-2">&#39;development&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-5">// Development-specific logic</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="base-configuration-configconfigjs" class="tsd-anchor-link">Base Configuration (<code>config/config.js</code>)<a href="#base-configuration-configconfigjs" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The core configuration of EXPRESS SWEET is defined in the <code>config/config.js</code> file.</p>
<p><strong>Sample configurations:</strong></p>
<ul>
<li><a href="media/config.js">ESM Configuration</a></li>
<li><a href="media/config-1.js">CJS Configuration</a></li>
</ul>
<p><strong>Configuration Options:</strong></p>
<ul>
<li>
<p><strong><code>env_path: string</code></strong><br>
Environment variable file (<code>.env</code>) path. Defaults to <code>undefined</code>.<br>
When the EXPRESS SWEET application starts, the environment file contents are automatically loaded into <code>process.env</code>.</p>
</li>
<li>
<p><strong><code>cors_enabled: boolean</code></strong><br>
Enable CORS (Cross-Origin Resource Sharing). Defaults to <code>false</code>.<br>
Set to <code>true</code> to allow requests from other domains.</p>
</li>
<li>
<p><strong><code>max_body_size: string|number</code></strong><br>
Maximum request body size. Defaults to <code>100kb</code>.<br>
If a number, specifies bytes. If a string, parsed by the <a href="https://www.npmjs.com/package/bytes">bytes library</a>.</p>
</li>
<li>
<p><strong><code>router_dir: string</code></strong><br>
Absolute path to the router directory. Defaults to <code>&lt;application root&gt;/routes</code>.</p>
</li>
<li>
<p><strong><code>default_router: string</code></strong><br>
Endpoint to run when the root URL is requested. Defaults to <code>undefined</code>.<br>
EXPRESS SWEET can load a default router when no URI is present (root URL <code>/</code> requests).</p>
</li>
<li>
<p><strong><code>rewrite_base_url: (baseUrl: string) =&gt; string</code></strong><br>
Hook to rewrite the base URL for <code>app.locals.baseUrl</code> and view's <code>baseUrl</code> variable.<br>
Default value is the referrer's origin (e.g., <code>https://example.com</code>).</p>
</li>
<li>
<p><strong><code>is_ajax: (req: express.Request) =&gt; boolean</code></strong><br>
Custom logic to determine Ajax requests.<br>
Defaults to checking for XMLHttpRequest in headers (<code>req.xhr</code>).</p>
</li>
<li>
<p><strong><code>hook_handle_error: (error: any, req: express.Request, res: express.Response, next: express.NextFunction) =&gt; void</code></strong><br>
Custom error handling hook. If unset, returns appropriate HTTP status codes.</p>
</li>
</ul>
<h3 id="database-configuration-configdatabasejs" class="tsd-anchor-link">Database Configuration (<code>config/database.js</code>)<a href="#database-configuration-configdatabasejs" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Database settings are defined in the <code>config/database.js</code> file.</p>
<p><strong>Sample configurations:</strong></p>
<ul>
<li><a href="media/database.js">ESM Configuration</a></li>
<li><a href="media/database-1.js">CJS Configuration</a></li>
</ul>
<p><strong>Configuration Options:</strong></p>
<ul>
<li><strong><code>username: string</code></strong> - Database authentication username</li>
<li><strong><code>password: string|null</code></strong> - Database authentication password (default: <code>null</code>)</li>
<li><strong><code>database: string</code></strong> - Database name</li>
<li><strong><code>host: string</code></strong> - Database host</li>
<li><strong><code>port: number|null</code></strong> - Database port (default: auto-select)</li>
<li><strong><code>dialect: string</code></strong> - Database dialect: <code>mariadb</code>, <code>mysql</code>, <code>postgres</code>, <code>sqlite</code>, or <code>mssql</code></li>
<li><strong><code>logging: boolean|(...message: any[]) =&gt; void</code></strong> - Query logging (default: <code>false</code>)</li>
<li><strong><code>timezone: string</code></strong> - Database timezone (e.g., <code>'+09:00'</code> for JST)</li>
</ul>
<h3 id="authentication-configuration-configauthenticationjs" class="tsd-anchor-link">Authentication Configuration (<code>config/authentication.js</code>)<a href="#authentication-configuration-configauthenticationjs" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>User authentication settings are defined in the <code>config/authentication.js</code> file.</p>
<p><strong>Sample configurations:</strong></p>
<ul>
<li><a href="media/authentication.js">ESM Configuration</a></li>
<li><a href="media/authentication-1.js">CJS Configuration</a></li>
</ul>
<h3 id="view-configuration-configviewjs" class="tsd-anchor-link">View Configuration (<code>config/view.js</code>)<a href="#view-configuration-configviewjs" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Template engine settings are defined in the <code>config/view.js</code> file.</p>
<p><strong>Sample configurations:</strong></p>
<ul>
<li><a href="media/view.js">ESM Configuration</a></li>
<li><a href="media/view-1.js">CJS Configuration</a></li>
</ul>
<h3 id="logging-configuration-configloggingjs" class="tsd-anchor-link">Logging Configuration (<code>config/logging.js</code>)<a href="#logging-configuration-configloggingjs" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>HTTP request logging settings are defined in the <code>config/logging.js</code> file.</p>
<p><strong>Sample configurations:</strong></p>
<ul>
<li><a href="media/logging.js">ESM Configuration</a></li>
<li><a href="media/logging-1.js">CJS Configuration</a></li>
</ul>
<h2 id="routing" class="tsd-anchor-link">Routing<a href="#routing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Routing determines how an application responds to client requests for specific endpoints, defined by a URI path and HTTP request method (GET, POST, etc.).</p>
<h3 id="basic-routing" class="tsd-anchor-link">Basic Routing<a href="#basic-routing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>All routes are defined in route files located in the <code>routes/</code> directory. These files are automatically mapped by EXPRESS SWEET to URL endpoints based on their file paths.</p>
<p><strong>Example:</strong> <code>routes/user.js</code> responds to <code>GET /user</code> requests:</p>
<pre><code class="js"><span class="hl-6">import</span><span class="hl-1"> {</span><span class="hl-7">Router</span><span class="hl-1">} </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;express&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">router</span><span class="hl-1"> = </span><span class="hl-0">Router</span><span class="hl-1">();</span><br/><span class="hl-7">router</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;/&#39;</span><span class="hl-1">, (</span><span class="hl-7">req</span><span class="hl-1">, </span><span class="hl-7">res</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-7">res</span><span class="hl-1">.</span><span class="hl-0">send</span><span class="hl-1">(</span><span class="hl-2">&#39;Hello World&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-6">default</span><span class="hl-1"> </span><span class="hl-7">router</span><span class="hl-1">;</span>
</code><button type="button">Copy</button></pre>

<h3 id="nested-routing" class="tsd-anchor-link">Nested Routing<a href="#nested-routing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The router supports nested folder structures. Nested files are automatically routed following the same path convention.</p>
<p><strong>Example:</strong> <code>routes/api/users.js</code> responds to <code>GET /api/users</code> requests:</p>
<pre><code class="js"><span class="hl-6">import</span><span class="hl-1"> {</span><span class="hl-7">Router</span><span class="hl-1">} </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;express&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">router</span><span class="hl-1"> = </span><span class="hl-0">Router</span><span class="hl-1">();</span><br/><span class="hl-7">router</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;/&#39;</span><span class="hl-1">, (</span><span class="hl-7">req</span><span class="hl-1">, </span><span class="hl-7">res</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-7">res</span><span class="hl-1">.</span><span class="hl-0">send</span><span class="hl-1">(</span><span class="hl-2">&#39;Hello World&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-6">default</span><span class="hl-1"> </span><span class="hl-7">router</span><span class="hl-1">;</span>
</code><button type="button">Copy</button></pre>

<h3 id="default-routing" class="tsd-anchor-link">Default Routing<a href="#default-routing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>EXPRESS SWEET can load a default router when no URI is present (root URL <code>/</code> requests). To specify a default router, set <code>default_router</code> in your <code>config/config.js</code> file:</p>
<pre><code class="js"><span class="hl-9">default_router</span><span class="hl-1">: </span><span class="hl-2">&#39;/blog&#39;</span>
</code><button type="button">Copy</button></pre>

<p>Where <code>blog</code> corresponds to the router module name. Create the corresponding <code>routes/blog.js</code> module:</p>
<pre><code class="js"><span class="hl-6">import</span><span class="hl-1"> {</span><span class="hl-7">Router</span><span class="hl-1">} </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;express&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">router</span><span class="hl-1"> = </span><span class="hl-0">Router</span><span class="hl-1">();</span><br/><span class="hl-7">router</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;/&#39;</span><span class="hl-1">, (</span><span class="hl-7">req</span><span class="hl-1">, </span><span class="hl-7">res</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-7">res</span><span class="hl-1">.</span><span class="hl-0">send</span><span class="hl-1">(</span><span class="hl-2">&#39;Hello World&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-6">default</span><span class="hl-1"> </span><span class="hl-7">router</span><span class="hl-1">;</span>
</code><button type="button">Copy</button></pre>

<p>Now when you request the root URL (<code>/</code>), you will see &quot;Hello World&quot;.</p>
<h3 id="routing-methods" class="tsd-anchor-link">Routing Methods<a href="#routing-methods" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Express supports routing methods corresponding to HTTP methods:</p>
<ul>
<li><code>checkout</code>, <code>copy</code>, <code>delete</code>, <code>get</code>, <code>head</code>, <code>lock</code>, <code>merge</code>, <code>mkactivity</code>, <code>mkcol</code>, <code>move</code>, <code>m-search</code>, <code>notify</code>, <code>options</code>, <code>patch</code>, <code>post</code>, <code>purge</code>, <code>put</code>, <code>report</code>, <code>search</code>, <code>subscribe</code>, <code>trace</code>, <code>unlock</code>, <code>unsubscribe</code></li>
</ul>
<p>For comprehensive routing documentation, see the <a href="https://expressjs.com/en/guide/routing.html#express-router">Express Routing Guide</a>.</p>
<h2 id="model" class="tsd-anchor-link">Model<a href="#model" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Models provide a structured way to interact with specific database tables in your application. EXPRESS SWEET provides a <a href="https://sequelize.org/docs/v6/">Sequelize</a>-based model class that offers powerful features including:</p>
<ul>
<li><strong>Automatic database connection management</strong></li>
<li><strong>Built-in CRUD methods</strong></li>
<li><strong>Query builder integration</strong></li>
<li><strong>Model relationships and associations</strong></li>
<li><strong>Data validation and hooks</strong></li>
</ul>
<p>This base class provides a solid foundation for building your application's model layer, allowing you to rapidly develop database interactions with minimal boilerplate code.</p>
<h3 id="accessing-models" class="tsd-anchor-link">Accessing Models<a href="#accessing-models" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Place your model files in the <code>models/</code> directory of your application root. Once loaded, you have immediate access to all model functions for database operations.</p>
<p><strong>Basic model usage:</strong></p>
<pre><code class="js"><span class="hl-6">import</span><span class="hl-1"> </span><span class="hl-7">BookModel</span><span class="hl-1"> </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;../models/BookModel.js&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">// Create a new record</span><br/><span class="hl-5">// SQL: INSERT INTO book (title, userId) VALUES (&#39;Beautiful&#39;, 1)</span><br/><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">BookModel</span><span class="hl-1">.</span><span class="hl-0">create</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-7">title:</span><span class="hl-1"> </span><span class="hl-2">&#39;Beautiful&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-7">userId:</span><span class="hl-1"> </span><span class="hl-4">1</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">// Find all records</span><br/><span class="hl-5">// SQL: SELECT * FROM book</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">allBooks</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">BookModel</span><span class="hl-1">.</span><span class="hl-0">findAll</span><span class="hl-1">();</span><br/><br/><span class="hl-5">// Find with conditions</span><br/><span class="hl-5">// SQL: SELECT * FROM book WHERE userId = 1</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">userBooks</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">BookModel</span><span class="hl-1">.</span><span class="hl-0">findAll</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-7">where:</span><span class="hl-1"> { </span><span class="hl-7">userId:</span><span class="hl-1"> </span><span class="hl-4">1</span><span class="hl-1"> }</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">// Update records</span><br/><span class="hl-5">// SQL: UPDATE book SET title = &#39;Beautiful&#39; WHERE id = 1</span><br/><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">BookModel</span><span class="hl-1">.</span><span class="hl-0">update</span><span class="hl-1">(</span><br/><span class="hl-1">  { </span><span class="hl-7">title:</span><span class="hl-1"> </span><span class="hl-2">&#39;Beautiful&#39;</span><span class="hl-1"> }, </span><br/><span class="hl-1">  { </span><span class="hl-7">where:</span><span class="hl-1"> { </span><span class="hl-7">id:</span><span class="hl-1"> </span><span class="hl-4">1</span><span class="hl-1"> } }</span><br/><span class="hl-1">);</span><br/><br/><span class="hl-5">// Delete records</span><br/><span class="hl-5">// SQL: DELETE FROM book WHERE id = 1</span><br/><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">BookModel</span><span class="hl-1">.</span><span class="hl-0">destroy</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-7">where:</span><span class="hl-1"> { </span><span class="hl-7">id:</span><span class="hl-1"> </span><span class="hl-4">1</span><span class="hl-1"> }</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">// Find single record</span><br/><span class="hl-5">// SQL: SELECT * FROM book WHERE title = &#39;Beautiful&#39; LIMIT 1</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">book</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">BookModel</span><span class="hl-1">.</span><span class="hl-0">findOne</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-7">where:</span><span class="hl-1"> { </span><span class="hl-7">title:</span><span class="hl-1"> </span><span class="hl-2">&#39;Beautiful&#39;</span><span class="hl-1"> }</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h3 id="creating-custom-models" class="tsd-anchor-link">Creating Custom Models<a href="#creating-custom-models" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>To leverage EXPRESS SWEET's model capabilities, create a new model class that extends <code>database.Model</code>. This provides convenient access to the database connection, query builder, and additional utility methods.</p>
<p><strong>Basic model structure:</strong></p>
<pre><code class="js"><span class="hl-6">import</span><span class="hl-1"> </span><span class="hl-3">*</span><span class="hl-1"> </span><span class="hl-6">as</span><span class="hl-1"> </span><span class="hl-7">expx</span><span class="hl-1"> </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;express-sweet&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-6">default</span><span class="hl-1"> </span><span class="hl-3">class</span><span class="hl-1"> </span><span class="hl-10">UserModel</span><span class="hl-1"> </span><span class="hl-3">extends</span><span class="hl-1"> </span><span class="hl-10">expx</span><span class="hl-1">.</span><span class="hl-10">database</span><span class="hl-1">.</span><span class="hl-10">Model</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-3">static</span><span class="hl-1"> </span><span class="hl-3">get</span><span class="hl-1"> </span><span class="hl-0">table</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-6">return</span><span class="hl-1"> </span><span class="hl-2">&#39;user&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-3">static</span><span class="hl-1"> </span><span class="hl-3">get</span><span class="hl-1"> </span><span class="hl-0">attributes</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-6">return</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-7">id:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-3">this</span><span class="hl-1">.</span><span class="hl-7">DataTypes</span><span class="hl-1">.</span><span class="hl-8">INTEGER</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-7">primaryKey:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-7">autoIncrement:</span><span class="hl-1"> </span><span class="hl-3">true</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">      </span><span class="hl-7">name:</span><span class="hl-1"> </span><span class="hl-3">this</span><span class="hl-1">.</span><span class="hl-7">DataTypes</span><span class="hl-1">.</span><span class="hl-8">STRING</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">email:</span><span class="hl-1"> </span><span class="hl-3">this</span><span class="hl-1">.</span><span class="hl-7">DataTypes</span><span class="hl-1">.</span><span class="hl-8">STRING</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">password:</span><span class="hl-1"> </span><span class="hl-3">this</span><span class="hl-1">.</span><span class="hl-7">DataTypes</span><span class="hl-1">.</span><span class="hl-8">STRING</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">created:</span><span class="hl-1"> </span><span class="hl-3">this</span><span class="hl-1">.</span><span class="hl-7">DataTypes</span><span class="hl-1">.</span><span class="hl-8">DATE</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">modified:</span><span class="hl-1"> </span><span class="hl-3">this</span><span class="hl-1">.</span><span class="hl-7">DataTypes</span><span class="hl-1">.</span><span class="hl-8">DATE</span><br/><span class="hl-1">    };</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="model-relationships" class="tsd-anchor-link">Model Relationships<a href="#model-relationships" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>EXPRESS SWEET supports Sequelize associations for building data relationships:</p>
<pre><code class="js"><span class="hl-5">// Define associations in your model</span><br/><span class="hl-7">static</span><span class="hl-1"> </span><span class="hl-0">associate</span><span class="hl-1">(</span><span class="hl-7">models</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-5">// One-to-One: User has one Profile</span><br/><span class="hl-1">  </span><span class="hl-3">this</span><span class="hl-1">.</span><span class="hl-0">hasOne</span><span class="hl-1">(</span><span class="hl-7">models</span><span class="hl-1">.</span><span class="hl-7">ProfileModel</span><span class="hl-1">, {</span><br/><span class="hl-1">    </span><span class="hl-7">foreignKey:</span><span class="hl-1"> </span><span class="hl-2">&#39;userId&#39;</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-5">// One-to-Many: User has many Books</span><br/><span class="hl-1">  </span><span class="hl-3">this</span><span class="hl-1">.</span><span class="hl-0">hasMany</span><span class="hl-1">(</span><span class="hl-7">models</span><span class="hl-1">.</span><span class="hl-7">BookModel</span><span class="hl-1">, {</span><br/><span class="hl-1">    </span><span class="hl-7">foreignKey:</span><span class="hl-1"> </span><span class="hl-2">&#39;userId&#39;</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>For comprehensive model documentation and advanced features, see the <a href="https://takuya-motoshima.github.io/express-sweet/modules/database.html">Model API Reference</a>.</p>
<h2 id="view-system" class="tsd-anchor-link">View System<a href="#view-system" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>EXPRESS SWEET uses Handlebars as its template engine with automatic layout support and a rich set of custom helpers.</p>
<h3 id="layout-usage" class="tsd-anchor-link">Layout Usage<a href="#layout-usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>There are three ways to specify a layout, listed in order of precedence:</p>
<ol>
<li>
<p><strong>Declarative within a page</strong> using Handlebars comments:</p>
<pre><code class="handlebars"><span class="hl-0">{{!&lt;</span><span class="hl-3"> </span><span class="hl-10">LAYOUT</span><span class="hl-0">}}</span>
</code><button type="button">Copy</button></pre>

</li>
<li>
<p><strong>As an option to render</strong>:</p>
<pre><code class="js"><span class="hl-7">res</span><span class="hl-1">.</span><span class="hl-0">render</span><span class="hl-1">(</span><span class="hl-2">&#39;veggies&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-7">title:</span><span class="hl-1"> </span><span class="hl-2">&#39;My favorite veggies&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-7">veggies:</span><span class="hl-1"> </span><span class="hl-7">veggies</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-7">layout:</span><span class="hl-1"> </span><span class="hl-2">&#39;layout/veggie&#39;</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>To suppress layout rendering:</p>
<pre><code class="js"><span class="hl-7">res</span><span class="hl-1">.</span><span class="hl-0">render</span><span class="hl-1">(</span><span class="hl-2">&#39;veggies&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-7">title:</span><span class="hl-1"> </span><span class="hl-2">&#39;My favorite veggies&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-7">veggies:</span><span class="hl-1"> </span><span class="hl-7">veggies</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-7">layout:</span><span class="hl-1"> </span><span class="hl-3">null</span><span class="hl-1"> </span><span class="hl-5">// render without using a layout template</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

</li>
<li>
<p><strong>Default layout</strong> using <code>default_layout</code> specified in view configuration.</p>
</li>
</ol>
<h3 id="template-syntax" class="tsd-anchor-link">Template Syntax<a href="#template-syntax" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><strong>Mark where layout should insert page content:</strong></p>
<pre><code class="handlebars"><span class="hl-0">{{{</span><span class="hl-7">body</span><span class="hl-0">}}}</span>
</code><button type="button">Copy</button></pre>

<p><strong>Declare a block placeholder in layout:</strong></p>
<pre><code class="handlebars"><span class="hl-0">{{{</span><span class="hl-7">block</span><span class="hl-1"> </span><span class="hl-11">&quot;script&quot;</span><span class="hl-0">}}}</span>
</code><button type="button">Copy</button></pre>

<p><strong>Define block content in a page:</strong></p>
<pre><code class="handlebars"><span class="hl-0">{{</span><span class="hl-6">#contentFor</span><span class="hl-1"> </span><span class="hl-11">&quot;script&quot;</span><span class="hl-0">}}</span><br/><span class="hl-1">  </span><span class="hl-12">&lt;</span><span class="hl-13">script</span><span class="hl-1"> </span><span class="hl-14">src=</span><span class="hl-11">&quot;/js/page-specific.js&quot;</span><span class="hl-12">&gt;&lt;/</span><span class="hl-13">script</span><span class="hl-12">&gt;</span><br/><span class="hl-0">{{</span><span class="hl-6">/contentFor</span><span class="hl-0">}}</span>
</code><button type="button">Copy</button></pre>

<h3 id="handlebars-helpers" class="tsd-anchor-link">Handlebars Helpers<a href="#handlebars-helpers" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>EXPRESS SWEET provides a comprehensive collection of custom helpers for common template operations:</p>
<h4 id="array-helpers" class="tsd-anchor-link">Array Helpers<a href="#array-helpers" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Work with arrays and objects within arrays:</p>
<pre><code class="handlebars"><span class="hl-5">{{!-- Find object in array by property --}}</span><br/><span class="hl-0">{{</span><span class="hl-6">#each</span><span class="hl-1"> </span><span class="hl-7">items</span><span class="hl-0">}}</span><br/><span class="hl-1">  </span><span class="hl-0">{{</span><span class="hl-6">#if</span><span class="hl-1"> (</span><span class="hl-7">eq</span><span class="hl-1"> </span><span class="hl-7">id</span><span class="hl-1"> </span><span class="hl-7">123</span><span class="hl-1">)</span><span class="hl-0">}}</span><br/><span class="hl-1">    </span><span class="hl-0">{{</span><span class="hl-7">lookup</span><span class="hl-1"> (</span><span class="hl-7">findObjectInArray</span><span class="hl-1"> </span><span class="hl-7">../items</span><span class="hl-1"> </span><span class="hl-11">&#39;id&#39;</span><span class="hl-1"> </span><span class="hl-7">id</span><span class="hl-1">) </span><span class="hl-11">&#39;name&#39;</span><span class="hl-0">}}</span><br/><span class="hl-1">  </span><span class="hl-0">{{</span><span class="hl-6">/if</span><span class="hl-0">}}</span><br/><span class="hl-0">{{</span><span class="hl-6">/each</span><span class="hl-0">}}</span>
</code><button type="button">Copy</button></pre>

<h4 id="comparison-helpers" class="tsd-anchor-link">Comparison Helpers<a href="#comparison-helpers" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Perform logical and comparison operations:</p>
<pre><code class="handlebars"><span class="hl-5">{{!-- Equality checks --}}</span><br/><span class="hl-0">{{</span><span class="hl-6">#if</span><span class="hl-1"> (</span><span class="hl-7">eq</span><span class="hl-1"> </span><span class="hl-7">status</span><span class="hl-1"> </span><span class="hl-11">&#39;active&#39;</span><span class="hl-1">)</span><span class="hl-0">}}</span><span class="hl-1">Active User</span><span class="hl-0">{{</span><span class="hl-6">/if</span><span class="hl-0">}}</span><br/><br/><span class="hl-5">{{!-- Numerical comparisons --}}</span><br/><span class="hl-0">{{</span><span class="hl-6">#if</span><span class="hl-1"> (</span><span class="hl-7">gt</span><span class="hl-1"> </span><span class="hl-7">score</span><span class="hl-1"> </span><span class="hl-7">90</span><span class="hl-1">)</span><span class="hl-0">}}</span><span class="hl-1">Excellent Score</span><span class="hl-0">{{</span><span class="hl-6">/if</span><span class="hl-0">}}</span><br/><span class="hl-0">{{</span><span class="hl-6">#if</span><span class="hl-1"> (</span><span class="hl-7">lt</span><span class="hl-1"> </span><span class="hl-7">age</span><span class="hl-1"> </span><span class="hl-7">18</span><span class="hl-1">)</span><span class="hl-0">}}</span><span class="hl-1">Minor</span><span class="hl-0">{{</span><span class="hl-6">/if</span><span class="hl-0">}}</span><br/><br/><span class="hl-5">{{!-- Logical operations --}}</span><br/><span class="hl-0">{{</span><span class="hl-6">#if</span><span class="hl-1"> (</span><span class="hl-7">and</span><span class="hl-1"> </span><span class="hl-7">isLoggedIn</span><span class="hl-1"> </span><span class="hl-7">hasPermission</span><span class="hl-1">)</span><span class="hl-0">}}</span><span class="hl-1">Show Protected Content</span><span class="hl-0">{{</span><span class="hl-6">/if</span><span class="hl-0">}}</span><br/><span class="hl-0">{{</span><span class="hl-6">#if</span><span class="hl-1"> (</span><span class="hl-7">or</span><span class="hl-1"> </span><span class="hl-7">isAdmin</span><span class="hl-1"> </span><span class="hl-7">isModerator</span><span class="hl-1">)</span><span class="hl-0">}}</span><span class="hl-1">Show Admin Controls</span><span class="hl-0">{{</span><span class="hl-6">/if</span><span class="hl-0">}}</span><br/><br/><span class="hl-5">{{!-- Empty/existence checks --}}</span><br/><span class="hl-0">{{</span><span class="hl-6">#if</span><span class="hl-1"> (</span><span class="hl-7">empty</span><span class="hl-1"> </span><span class="hl-7">comments</span><span class="hl-1">)</span><span class="hl-0">}}</span><span class="hl-1">No comments yet</span><span class="hl-0">{{</span><span class="hl-6">/if</span><span class="hl-0">}}</span><br/><span class="hl-0">{{</span><span class="hl-6">#if</span><span class="hl-1"> (</span><span class="hl-7">includes</span><span class="hl-1"> </span><span class="hl-7">roles</span><span class="hl-1"> </span><span class="hl-11">&#39;admin&#39;</span><span class="hl-1">)</span><span class="hl-0">}}</span><span class="hl-1">Admin Access</span><span class="hl-0">{{</span><span class="hl-6">/if</span><span class="hl-0">}}</span>
</code><button type="button">Copy</button></pre>

<h4 id="html-helpers" class="tsd-anchor-link">HTML Helpers<a href="#html-helpers" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>HTML and asset management utilities:</p>
<pre><code class="handlebars"><span class="hl-5">{{!-- Cache busting for static assets --}}</span><br/><span class="hl-12">&lt;</span><span class="hl-13">link</span><span class="hl-1"> </span><span class="hl-14">rel=</span><span class="hl-11">&quot;stylesheet&quot;</span><span class="hl-1"> </span><span class="hl-14">href=</span><span class="hl-11">&quot;</span><span class="hl-0">{{</span><span class="hl-7">cacheBusting</span><span class="hl-11"> &#39;/css/style.css&#39;</span><span class="hl-0">}}</span><span class="hl-11">&quot;</span><span class="hl-12">&gt;</span><br/><span class="hl-12">&lt;</span><span class="hl-13">script</span><span class="hl-1"> </span><span class="hl-14">src=</span><span class="hl-11">&quot;</span><span class="hl-0">{{</span><span class="hl-7">cacheBusting</span><span class="hl-11"> &#39;/js/app.js&#39;</span><span class="hl-0">}}</span><span class="hl-11">&quot;</span><span class="hl-12">&gt;&lt;/</span><span class="hl-13">script</span><span class="hl-12">&gt;</span><br/><br/><span class="hl-5">{{!-- Strip HTML tags from content --}}</span><br/><span class="hl-0">{{{</span><span class="hl-7">stripTags</span><span class="hl-1"> </span><span class="hl-11">&#39;&lt;p&gt;Hello &lt;strong&gt;World&lt;/strong&gt;&lt;/p&gt;&#39;</span><span class="hl-0">}}}</span><span class="hl-1"> </span><span class="hl-5">{{!-- Results: Hello World --}}</span>
</code><button type="button">Copy</button></pre>

<h4 id="object-helpers" class="tsd-anchor-link">Object Helpers<a href="#object-helpers" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>JSON serialization and parsing:</p>
<pre><code class="handlebars"><span class="hl-5">{{!-- Convert objects to JSON strings --}}</span><br/><span class="hl-12">&lt;</span><span class="hl-13">script</span><span class="hl-12">&gt;</span><br/><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-7">userData</span><span class="hl-1"> = {{{</span><span class="hl-7">jsonStringify</span><span class="hl-1"> </span><span class="hl-7">user</span><span class="hl-1">}}};</span><br/><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-7">config</span><span class="hl-1"> = {{{</span><span class="hl-7">jsonStringify</span><span class="hl-1"> </span><span class="hl-7">appConfig</span><span class="hl-1">}}};</span><br/><span class="hl-12">&lt;/</span><span class="hl-13">script</span><span class="hl-12">&gt;</span><br/><br/><span class="hl-5">{{!-- Parse JSON strings back to objects --}}</span><br/><span class="hl-0">{{</span><span class="hl-6">#with</span><span class="hl-1"> (</span><span class="hl-7">jsonParse</span><span class="hl-1"> </span><span class="hl-7">jsonString</span><span class="hl-1">)</span><span class="hl-0">}}</span><br/><span class="hl-1">  </span><span class="hl-12">&lt;</span><span class="hl-13">h1</span><span class="hl-12">&gt;</span><span class="hl-0">{{</span><span class="hl-7">name</span><span class="hl-0">}}</span><span class="hl-12">&lt;/</span><span class="hl-13">h1</span><span class="hl-12">&gt;</span><br/><span class="hl-1">  </span><span class="hl-12">&lt;</span><span class="hl-13">p</span><span class="hl-12">&gt;</span><span class="hl-0">{{</span><span class="hl-7">email</span><span class="hl-0">}}</span><span class="hl-12">&lt;/</span><span class="hl-13">p</span><span class="hl-12">&gt;</span><br/><span class="hl-0">{{</span><span class="hl-6">/with</span><span class="hl-0">}}</span>
</code><button type="button">Copy</button></pre>

<h4 id="string-helpers" class="tsd-anchor-link">String Helpers<a href="#string-helpers" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>String manipulation and formatting:</p>
<pre><code class="handlebars"><span class="hl-5">{{!-- String replacement --}}</span><br/><span class="hl-12">&lt;</span><span class="hl-13">h1</span><span class="hl-12">&gt;</span><span class="hl-0">{{</span><span class="hl-7">replace</span><span class="hl-1"> </span><span class="hl-7">title</span><span class="hl-1"> </span><span class="hl-11">&#39;Draft&#39;</span><span class="hl-1"> </span><span class="hl-11">&#39;Published&#39;</span><span class="hl-0">}}</span><span class="hl-12">&lt;/</span><span class="hl-13">h1</span><span class="hl-12">&gt;</span><br/><br/><span class="hl-5">{{!-- Split strings into arrays --}}</span><br/><span class="hl-0">{{</span><span class="hl-6">#each</span><span class="hl-1"> (</span><span class="hl-7">split</span><span class="hl-1"> </span><span class="hl-7">tags</span><span class="hl-1"> </span><span class="hl-11">&#39;,&#39;</span><span class="hl-1">)</span><span class="hl-0">}}</span><br/><span class="hl-1">  </span><span class="hl-12">&lt;</span><span class="hl-13">span</span><span class="hl-1"> </span><span class="hl-14">class=</span><span class="hl-11">&quot;tag&quot;</span><span class="hl-12">&gt;</span><span class="hl-0">{{</span><span class="hl-7">trim</span><span class="hl-1"> </span><span class="hl-7">this</span><span class="hl-0">}}</span><span class="hl-12">&lt;/</span><span class="hl-13">span</span><span class="hl-12">&gt;</span><br/><span class="hl-0">{{</span><span class="hl-6">/each</span><span class="hl-0">}}</span><br/><br/><span class="hl-5">{{!-- Format file sizes --}}</span><br/><span class="hl-12">&lt;</span><span class="hl-13">p</span><span class="hl-12">&gt;</span><span class="hl-1">File size: </span><span class="hl-0">{{</span><span class="hl-7">formatBytes</span><span class="hl-1"> </span><span class="hl-7">fileSize</span><span class="hl-1"> </span><span class="hl-7">2</span><span class="hl-0">}}</span><span class="hl-12">&lt;/</span><span class="hl-13">p</span><span class="hl-12">&gt;</span><br/><span class="hl-5">{{!-- Example output: File size: 1.23 MB --}}</span>
</code><button type="button">Copy</button></pre>

<h4 id="date-helpers" class="tsd-anchor-link">Date Helpers<a href="#date-helpers" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Date and time formatting with internationalization support:</p>
<pre><code class="handlebars"><span class="hl-5">{{!-- Format dates with custom patterns --}}</span><br/><span class="hl-12">&lt;</span><span class="hl-13">p</span><span class="hl-12">&gt;</span><span class="hl-1">Created: </span><span class="hl-0">{{</span><span class="hl-7">formatDate</span><span class="hl-1"> </span><span class="hl-11">&#39;YYYY/MM/DD&#39;</span><span class="hl-1"> </span><span class="hl-7">createdAt</span><span class="hl-0">}}</span><span class="hl-12">&lt;/</span><span class="hl-13">p</span><span class="hl-12">&gt;</span><br/><span class="hl-12">&lt;</span><span class="hl-13">p</span><span class="hl-12">&gt;</span><span class="hl-1">Time: </span><span class="hl-0">{{</span><span class="hl-7">formatDate</span><span class="hl-1"> </span><span class="hl-11">&#39;HH:mm:ss&#39;</span><span class="hl-1"> </span><span class="hl-7">timestamp</span><span class="hl-0">}}</span><span class="hl-12">&lt;/</span><span class="hl-13">p</span><span class="hl-12">&gt;</span><br/><br/><span class="hl-5">{{!-- Localized date formatting --}}</span><br/><span class="hl-12">&lt;</span><span class="hl-13">p</span><span class="hl-12">&gt;</span><span class="hl-1">Date: </span><span class="hl-0">{{</span><span class="hl-7">formatDate</span><span class="hl-1"> </span><span class="hl-11">&#39;MMMM Do, YYYY&#39;</span><span class="hl-1"> </span><span class="hl-7">publishedAt</span><span class="hl-1"> </span><span class="hl-11">&#39;en-US&#39;</span><span class="hl-0">}}</span><span class="hl-12">&lt;/</span><span class="hl-13">p</span><span class="hl-12">&gt;</span><br/><span class="hl-12">&lt;</span><span class="hl-13">p</span><span class="hl-12">&gt;</span><span class="hl-1">æ—¥ä»˜: </span><span class="hl-0">{{</span><span class="hl-7">formatDate</span><span class="hl-1"> </span><span class="hl-11">&#39;YYYYå¹´MMæœˆDDæ—¥&#39;</span><span class="hl-1"> </span><span class="hl-7">publishedAt</span><span class="hl-1"> </span><span class="hl-11">&#39;ja-JP&#39;</span><span class="hl-0">}}</span><span class="hl-12">&lt;/</span><span class="hl-13">p</span><span class="hl-12">&gt;</span>
</code><button type="button">Copy</button></pre>

<h4 id="number-helpers" class="tsd-anchor-link">Number Helpers<a href="#number-helpers" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Number formatting with locale support:</p>
<pre><code class="handlebars"><span class="hl-5">{{!-- Localized number formatting --}}</span><br/><span class="hl-12">&lt;</span><span class="hl-13">p</span><span class="hl-12">&gt;</span><span class="hl-1">Price: $</span><span class="hl-0">{{</span><span class="hl-7">number2locale</span><span class="hl-1"> </span><span class="hl-7">price</span><span class="hl-1"> </span><span class="hl-11">&#39;en-US&#39;</span><span class="hl-0">}}</span><span class="hl-12">&lt;/</span><span class="hl-13">p</span><span class="hl-12">&gt;</span><br/><span class="hl-12">&lt;</span><span class="hl-13">p</span><span class="hl-12">&gt;</span><span class="hl-1">Total: â‚¬</span><span class="hl-0">{{</span><span class="hl-7">number2locale</span><span class="hl-1"> </span><span class="hl-7">total</span><span class="hl-1"> </span><span class="hl-11">&#39;de-DE&#39;</span><span class="hl-0">}}</span><span class="hl-12">&lt;/</span><span class="hl-13">p</span><span class="hl-12">&gt;</span><br/><span class="hl-12">&lt;</span><span class="hl-13">p</span><span class="hl-12">&gt;</span><span class="hl-1">Count: </span><span class="hl-0">{{</span><span class="hl-7">number2locale</span><span class="hl-1"> </span><span class="hl-7">userCount</span><span class="hl-1"> </span><span class="hl-11">&#39;ja-JP&#39;</span><span class="hl-0">}}</span><span class="hl-12">&lt;/</span><span class="hl-13">p</span><span class="hl-12">&gt;</span>
</code><button type="button">Copy</button></pre>

<h4 id="math-helpers" class="tsd-anchor-link">Math Helpers<a href="#math-helpers" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Mathematical operations for template calculations:</p>
<pre><code class="handlebars"><span class="hl-5">{{!-- Basic arithmetic --}}</span><br/><span class="hl-12">&lt;</span><span class="hl-13">p</span><span class="hl-12">&gt;</span><span class="hl-1">Total: $</span><span class="hl-0">{{</span><span class="hl-7">add</span><span class="hl-1"> </span><span class="hl-7">price</span><span class="hl-1"> </span><span class="hl-7">tax</span><span class="hl-0">}}</span><span class="hl-12">&lt;/</span><span class="hl-13">p</span><span class="hl-12">&gt;</span><br/><span class="hl-12">&lt;</span><span class="hl-13">p</span><span class="hl-12">&gt;</span><span class="hl-1">Discount: $</span><span class="hl-0">{{</span><span class="hl-7">subtract</span><span class="hl-1"> </span><span class="hl-7">price</span><span class="hl-1"> </span><span class="hl-7">discount</span><span class="hl-0">}}</span><span class="hl-12">&lt;/</span><span class="hl-13">p</span><span class="hl-12">&gt;</span><br/><span class="hl-12">&lt;</span><span class="hl-13">p</span><span class="hl-12">&gt;</span><span class="hl-1">Amount: $</span><span class="hl-0">{{</span><span class="hl-7">multiply</span><span class="hl-1"> </span><span class="hl-7">quantity</span><span class="hl-1"> </span><span class="hl-7">unitPrice</span><span class="hl-0">}}</span><span class="hl-12">&lt;/</span><span class="hl-13">p</span><span class="hl-12">&gt;</span><br/><span class="hl-12">&lt;</span><span class="hl-13">p</span><span class="hl-12">&gt;</span><span class="hl-1">Average: </span><span class="hl-0">{{</span><span class="hl-7">divide</span><span class="hl-1"> </span><span class="hl-7">total</span><span class="hl-1"> </span><span class="hl-7">count</span><span class="hl-0">}}</span><span class="hl-12">&lt;/</span><span class="hl-13">p</span><span class="hl-12">&gt;</span><br/><br/><span class="hl-5">{{!-- Rounding functions --}}</span><br/><span class="hl-12">&lt;</span><span class="hl-13">p</span><span class="hl-12">&gt;</span><span class="hl-1">Rounded up: </span><span class="hl-0">{{</span><span class="hl-7">ceil</span><span class="hl-1"> </span><span class="hl-7">4.3</span><span class="hl-0">}}</span><span class="hl-12">&lt;/</span><span class="hl-13">p</span><span class="hl-12">&gt;</span><span class="hl-1"> </span><span class="hl-5">{{!-- Results: 5 --}}</span><br/><span class="hl-12">&lt;</span><span class="hl-13">p</span><span class="hl-12">&gt;</span><span class="hl-1">Rounded down: </span><span class="hl-0">{{</span><span class="hl-7">floor</span><span class="hl-1"> </span><span class="hl-7">4.7</span><span class="hl-0">}}</span><span class="hl-12">&lt;/</span><span class="hl-13">p</span><span class="hl-12">&gt;</span><span class="hl-1"> </span><span class="hl-5">{{!-- Results: 4 --}}</span><br/><span class="hl-12">&lt;</span><span class="hl-13">p</span><span class="hl-12">&gt;</span><span class="hl-1">Absolute value: </span><span class="hl-0">{{</span><span class="hl-7">abs</span><span class="hl-1"> </span><span class="hl-7">-15</span><span class="hl-0">}}</span><span class="hl-12">&lt;/</span><span class="hl-13">p</span><span class="hl-12">&gt;</span><span class="hl-1"> </span><span class="hl-5">{{!-- Results: 15 --}}</span>
</code><button type="button">Copy</button></pre>

<p>For complete documentation of all helpers and their options, see the <a href="https://takuya-motoshima.github.io/express-sweet/modules/handlebars_helpers.html">Handlebars Helpers API Reference</a>.</p>
<h2 id="authentication" class="tsd-anchor-link">Authentication<a href="#authentication" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>EXPRESS SWEET includes built-in Passport authentication middleware for username and password authentication. You can immediately implement user authentication using the authentication configuration file and authentication service module.</p>
<p><strong>Note:</strong> If an unauthenticated user requests a URL that requires authentication, they will be redirected to the page specified by <code>failure_redirect</code>. For asynchronous requests, a <code>401</code> error is returned.</p>
<h3 id="login-example" class="tsd-anchor-link">Login Example<a href="#login-example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><h4 id="asynchronous-login-ajax" class="tsd-anchor-link">Asynchronous Login (Ajax)<a href="#asynchronous-login-ajax" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Returns the authentication result for frontend processing:</p>
<pre><code class="js"><span class="hl-6">import</span><span class="hl-1"> {</span><span class="hl-7">Router</span><span class="hl-1">} </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;express&#39;</span><span class="hl-1">;</span><br/><span class="hl-6">import</span><span class="hl-1"> </span><span class="hl-3">*</span><span class="hl-1"> </span><span class="hl-6">as</span><span class="hl-1"> </span><span class="hl-7">expx</span><span class="hl-1"> </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;express-sweet&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">router</span><span class="hl-1"> = </span><span class="hl-0">Router</span><span class="hl-1">();</span><br/><span class="hl-7">router</span><span class="hl-1">.</span><span class="hl-0">post</span><span class="hl-1">(</span><span class="hl-2">&#39;/login&#39;</span><span class="hl-1">, </span><span class="hl-3">async</span><span class="hl-1"> (</span><span class="hl-7">req</span><span class="hl-1">, </span><span class="hl-7">res</span><span class="hl-1">, </span><span class="hl-7">next</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">isAuthenticated</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">expx</span><span class="hl-1">.</span><span class="hl-7">services</span><span class="hl-1">.</span><span class="hl-7">Authentication</span><span class="hl-1">.</span><span class="hl-0">authenticate</span><span class="hl-1">(</span><span class="hl-7">req</span><span class="hl-1">, </span><span class="hl-7">res</span><span class="hl-1">, </span><span class="hl-7">next</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-7">res</span><span class="hl-1">.</span><span class="hl-0">json</span><span class="hl-1">(</span><span class="hl-7">isAuthenticated</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-6">default</span><span class="hl-1"> </span><span class="hl-7">router</span><span class="hl-1">;</span>
</code><button type="button">Copy</button></pre>

<p><strong>Frontend HTML example:</strong></p>
<pre><code class="html"><span class="hl-12">&lt;</span><span class="hl-13">form</span><span class="hl-1"> </span><span class="hl-14">id</span><span class="hl-1">=</span><span class="hl-11">&quot;loginForm&quot;</span><span class="hl-12">&gt;</span><br/><span class="hl-1">  </span><span class="hl-12">&lt;</span><span class="hl-13">label</span><span class="hl-12">&gt;</span><span class="hl-1">Email</span><span class="hl-12">&lt;/</span><span class="hl-13">label</span><span class="hl-12">&gt;</span><br/><span class="hl-1">  </span><span class="hl-12">&lt;</span><span class="hl-13">input</span><span class="hl-1"> </span><span class="hl-14">type</span><span class="hl-1">=</span><span class="hl-11">&quot;email&quot;</span><span class="hl-1"> </span><span class="hl-14">name</span><span class="hl-1">=</span><span class="hl-11">&quot;email&quot;</span><span class="hl-1"> </span><span class="hl-14">required</span><span class="hl-1"> </span><span class="hl-14">autofocus</span><span class="hl-12">&gt;</span><br/><span class="hl-1">  </span><span class="hl-12">&lt;</span><span class="hl-13">label</span><span class="hl-12">&gt;</span><span class="hl-1">Password</span><span class="hl-12">&lt;/</span><span class="hl-13">label</span><span class="hl-12">&gt;</span><br/><span class="hl-1">  </span><span class="hl-12">&lt;</span><span class="hl-13">input</span><span class="hl-1"> </span><span class="hl-14">type</span><span class="hl-1">=</span><span class="hl-11">&quot;password&quot;</span><span class="hl-1"> </span><span class="hl-14">name</span><span class="hl-1">=</span><span class="hl-11">&quot;password&quot;</span><span class="hl-1"> </span><span class="hl-14">required</span><span class="hl-12">&gt;</span><br/><span class="hl-1">  </span><span class="hl-12">&lt;</span><span class="hl-13">button</span><span class="hl-1"> </span><span class="hl-14">type</span><span class="hl-1">=</span><span class="hl-11">&quot;submit&quot;</span><span class="hl-12">&gt;</span><span class="hl-1">Login</span><span class="hl-12">&lt;/</span><span class="hl-13">button</span><span class="hl-12">&gt;</span><br/><span class="hl-12">&lt;/</span><span class="hl-13">form</span><span class="hl-12">&gt;</span><br/><br/><span class="hl-12">&lt;</span><span class="hl-13">script</span><span class="hl-12">&gt;</span><br/><span class="hl-3">const</span><span class="hl-15"> </span><span class="hl-8">form</span><span class="hl-15"> </span><span class="hl-1">=</span><span class="hl-15"> </span><span class="hl-7">document</span><span class="hl-15">.</span><span class="hl-0">querySelector</span><span class="hl-15">(</span><span class="hl-2">&#39;#loginForm&#39;</span><span class="hl-15">);</span><br/><span class="hl-7">form</span><span class="hl-15">.</span><span class="hl-0">addEventListener</span><span class="hl-15">(</span><span class="hl-2">&#39;submit&#39;</span><span class="hl-15">, </span><span class="hl-3">async</span><span class="hl-15"> </span><span class="hl-7">event</span><span class="hl-15"> </span><span class="hl-3">=&gt;</span><span class="hl-15"> {</span><br/><span class="hl-15">  </span><span class="hl-7">event</span><span class="hl-15">.</span><span class="hl-0">preventDefault</span><span class="hl-15">();</span><br/><span class="hl-15">  </span><br/><span class="hl-15">  </span><span class="hl-3">const</span><span class="hl-15"> </span><span class="hl-8">res</span><span class="hl-15"> </span><span class="hl-1">=</span><span class="hl-15"> </span><span class="hl-6">await</span><span class="hl-15"> </span><span class="hl-0">fetch</span><span class="hl-15">(</span><span class="hl-2">&#39;/api/users/login&#39;</span><span class="hl-15">, {</span><br/><span class="hl-15">    </span><span class="hl-7">method:</span><span class="hl-15"> </span><span class="hl-2">&#39;POST&#39;</span><span class="hl-15">, </span><br/><span class="hl-15">    </span><span class="hl-7">body:</span><span class="hl-15"> </span><span class="hl-3">new</span><span class="hl-15"> </span><span class="hl-0">FormData</span><span class="hl-15">(</span><span class="hl-7">form</span><span class="hl-15">)</span><br/><span class="hl-15">  });</span><br/><span class="hl-15">  </span><br/><span class="hl-15">  </span><span class="hl-3">const</span><span class="hl-15"> </span><span class="hl-8">isAuthenticated</span><span class="hl-15"> </span><span class="hl-1">=</span><span class="hl-15"> </span><span class="hl-6">await</span><span class="hl-15"> </span><span class="hl-7">res</span><span class="hl-15">.</span><span class="hl-0">json</span><span class="hl-15">();</span><br/><span class="hl-15">  </span><span class="hl-6">if</span><span class="hl-15"> (</span><span class="hl-1">!</span><span class="hl-7">isAuthenticated</span><span class="hl-15">) {</span><br/><span class="hl-15">    </span><span class="hl-0">alert</span><span class="hl-15">(</span><span class="hl-2">&#39;The username or password is incorrect.&#39;</span><span class="hl-15">);</span><br/><span class="hl-15">    </span><span class="hl-6">return</span><span class="hl-15">;</span><br/><span class="hl-15">  }</span><br/><span class="hl-15">  </span><br/><span class="hl-15">  </span><span class="hl-7">location</span><span class="hl-15">.</span><span class="hl-7">href</span><span class="hl-15"> </span><span class="hl-1">=</span><span class="hl-15"> </span><span class="hl-2">&#39;/dashboard&#39;</span><span class="hl-15">;</span><br/><span class="hl-15">});</span><br/><span class="hl-12">&lt;/</span><span class="hl-13">script</span><span class="hl-12">&gt;</span>
</code><button type="button">Copy</button></pre>

<h4 id="synchronous-login-form-submit" class="tsd-anchor-link">Synchronous Login (Form Submit)<a href="#synchronous-login-form-submit" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Redirects based on authentication result:</p>
<pre><code class="js"><span class="hl-6">import</span><span class="hl-1"> {</span><span class="hl-7">Router</span><span class="hl-1">} </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;express&#39;</span><span class="hl-1">;</span><br/><span class="hl-6">import</span><span class="hl-1"> </span><span class="hl-3">*</span><span class="hl-1"> </span><span class="hl-6">as</span><span class="hl-1"> </span><span class="hl-7">expx</span><span class="hl-1"> </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;express-sweet&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">router</span><span class="hl-1"> = </span><span class="hl-0">Router</span><span class="hl-1">();</span><br/><span class="hl-7">router</span><span class="hl-1">.</span><span class="hl-0">post</span><span class="hl-1">(</span><span class="hl-2">&#39;/login&#39;</span><span class="hl-1">, </span><span class="hl-3">async</span><span class="hl-1"> (</span><span class="hl-7">req</span><span class="hl-1">, </span><span class="hl-7">res</span><span class="hl-1">, </span><span class="hl-7">next</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">isAuthenticated</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">expx</span><span class="hl-1">.</span><span class="hl-7">services</span><span class="hl-1">.</span><span class="hl-7">Authentication</span><span class="hl-1">.</span><span class="hl-0">authenticate</span><span class="hl-1">(</span><span class="hl-7">req</span><span class="hl-1">, </span><span class="hl-7">res</span><span class="hl-1">, </span><span class="hl-7">next</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-6">if</span><span class="hl-1"> (</span><span class="hl-7">isAuthenticated</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">expx</span><span class="hl-1">.</span><span class="hl-7">services</span><span class="hl-1">.</span><span class="hl-7">Authentication</span><span class="hl-1">.</span><span class="hl-0">successRedirect</span><span class="hl-1">(</span><span class="hl-7">res</span><span class="hl-1">);</span><br/><span class="hl-1">  } </span><span class="hl-6">else</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">expx</span><span class="hl-1">.</span><span class="hl-7">services</span><span class="hl-1">.</span><span class="hl-7">Authentication</span><span class="hl-1">.</span><span class="hl-0">failureRedirect</span><span class="hl-1">(</span><span class="hl-7">req</span><span class="hl-1">, </span><span class="hl-7">res</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-6">default</span><span class="hl-1"> </span><span class="hl-7">router</span><span class="hl-1">;</span>
</code><button type="button">Copy</button></pre>

<p><strong>Frontend HTML example:</strong></p>
<pre><code class="html"><span class="hl-12">&lt;</span><span class="hl-13">form</span><span class="hl-1"> </span><span class="hl-14">method</span><span class="hl-1">=</span><span class="hl-11">&quot;post&quot;</span><span class="hl-1"> </span><span class="hl-14">action</span><span class="hl-1">=</span><span class="hl-11">&quot;/api/users/login&quot;</span><span class="hl-12">&gt;</span><br/><span class="hl-1">  </span><span class="hl-12">&lt;</span><span class="hl-13">label</span><span class="hl-12">&gt;</span><span class="hl-1">Email</span><span class="hl-12">&lt;/</span><span class="hl-13">label</span><span class="hl-12">&gt;</span><br/><span class="hl-1">  </span><span class="hl-12">&lt;</span><span class="hl-13">input</span><span class="hl-1"> </span><span class="hl-14">type</span><span class="hl-1">=</span><span class="hl-11">&quot;email&quot;</span><span class="hl-1"> </span><span class="hl-14">name</span><span class="hl-1">=</span><span class="hl-11">&quot;email&quot;</span><span class="hl-1"> </span><span class="hl-14">required</span><span class="hl-1"> </span><span class="hl-14">autofocus</span><span class="hl-12">&gt;</span><br/><span class="hl-1">  </span><span class="hl-12">&lt;</span><span class="hl-13">label</span><span class="hl-12">&gt;</span><span class="hl-1">Password</span><span class="hl-12">&lt;/</span><span class="hl-13">label</span><span class="hl-12">&gt;</span><br/><span class="hl-1">  </span><span class="hl-12">&lt;</span><span class="hl-13">input</span><span class="hl-1"> </span><span class="hl-14">type</span><span class="hl-1">=</span><span class="hl-11">&quot;password&quot;</span><span class="hl-1"> </span><span class="hl-14">name</span><span class="hl-1">=</span><span class="hl-11">&quot;password&quot;</span><span class="hl-1"> </span><span class="hl-14">required</span><span class="hl-12">&gt;</span><br/><span class="hl-1">  </span><span class="hl-12">&lt;</span><span class="hl-13">button</span><span class="hl-1"> </span><span class="hl-14">type</span><span class="hl-1">=</span><span class="hl-11">&quot;submit&quot;</span><span class="hl-12">&gt;</span><span class="hl-1">Login</span><span class="hl-12">&lt;/</span><span class="hl-13">button</span><span class="hl-12">&gt;</span><br/><span class="hl-12">&lt;/</span><span class="hl-13">form</span><span class="hl-12">&gt;</span>
</code><button type="button">Copy</button></pre>

<h3 id="logout-example" class="tsd-anchor-link">Logout Example<a href="#logout-example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>To log out a user, call the <code>services.Authentication.logout()</code> method. This removes the <code>req.user</code> property and clears the login session:</p>
<pre><code class="js"><span class="hl-6">import</span><span class="hl-1"> {</span><span class="hl-7">Router</span><span class="hl-1">} </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;express&#39;</span><span class="hl-1">;</span><br/><span class="hl-6">import</span><span class="hl-1"> </span><span class="hl-3">*</span><span class="hl-1"> </span><span class="hl-6">as</span><span class="hl-1"> </span><span class="hl-7">expx</span><span class="hl-1"> </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;express-sweet&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">router</span><span class="hl-1"> = </span><span class="hl-0">Router</span><span class="hl-1">();</span><br/><span class="hl-7">router</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;/logout&#39;</span><span class="hl-1">, (</span><span class="hl-7">req</span><span class="hl-1">, </span><span class="hl-7">res</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-7">expx</span><span class="hl-1">.</span><span class="hl-7">services</span><span class="hl-1">.</span><span class="hl-7">Authentication</span><span class="hl-1">.</span><span class="hl-0">logout</span><span class="hl-1">(</span><span class="hl-7">req</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-7">res</span><span class="hl-1">.</span><span class="hl-0">redirect</span><span class="hl-1">(</span><span class="hl-2">&#39;/login&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-6">default</span><span class="hl-1"> </span><span class="hl-7">router</span><span class="hl-1">;</span>
</code><button type="button">Copy</button></pre>

<p><strong>Frontend HTML example:</strong></p>
<pre><code class="html"><span class="hl-12">&lt;</span><span class="hl-13">a</span><span class="hl-1"> </span><span class="hl-14">href</span><span class="hl-1">=</span><span class="hl-11">&quot;/api/users/logout&quot;</span><span class="hl-12">&gt;</span><span class="hl-1">Logout</span><span class="hl-12">&lt;/</span><span class="hl-13">a</span><span class="hl-12">&gt;</span>
</code><button type="button">Copy</button></pre>

<p>For detailed authentication configuration options, see the <a href="#configuration">Configuration</a> section and <a href="https://takuya-motoshima.github.io/express-sweet/classes/services.Authentication.html">Authentication API Reference</a>.</p>
<h2 id="examples" class="tsd-anchor-link">Examples<a href="#examples" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="restful-api-development" class="tsd-anchor-link">RESTful API Development<a href="#restful-api-development" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Build RESTful APIs with essential CRUD operations:</p>
<pre><code class="js"><span class="hl-6">import</span><span class="hl-1"> {</span><span class="hl-7">Router</span><span class="hl-1">} </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;express&#39;</span><span class="hl-1">;</span><br/><span class="hl-6">import</span><span class="hl-1"> </span><span class="hl-7">BookModel</span><span class="hl-1"> </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;../models/BookModel.js&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">router</span><span class="hl-1"> = </span><span class="hl-0">Router</span><span class="hl-1">();</span><br/><br/><span class="hl-5">// GET /api/books - List all books</span><br/><span class="hl-7">router</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;/books&#39;</span><span class="hl-1">, </span><span class="hl-3">async</span><span class="hl-1"> (</span><span class="hl-7">req</span><span class="hl-1">, </span><span class="hl-7">res</span><span class="hl-1">, </span><span class="hl-7">next</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">try</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">books</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">BookModel</span><span class="hl-1">.</span><span class="hl-0">findAll</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-7">order:</span><span class="hl-1"> [[</span><span class="hl-2">&#39;created&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;DESC&#39;</span><span class="hl-1">]],</span><br/><span class="hl-1">      </span><span class="hl-7">include:</span><span class="hl-1"> [</span><span class="hl-2">&#39;UserModel&#39;</span><span class="hl-1">]</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">    </span><span class="hl-7">res</span><span class="hl-1">.</span><span class="hl-0">json</span><span class="hl-1">({ </span><span class="hl-7">books</span><span class="hl-1"> });</span><br/><span class="hl-1">  } </span><span class="hl-6">catch</span><span class="hl-1"> (</span><span class="hl-7">error</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-0">next</span><span class="hl-1">(</span><span class="hl-7">error</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">// POST /api/books - Create a new book</span><br/><span class="hl-7">router</span><span class="hl-1">.</span><span class="hl-0">post</span><span class="hl-1">(</span><span class="hl-2">&#39;/books&#39;</span><span class="hl-1">, </span><span class="hl-3">async</span><span class="hl-1"> (</span><span class="hl-7">req</span><span class="hl-1">, </span><span class="hl-7">res</span><span class="hl-1">, </span><span class="hl-7">next</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">try</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-8">title</span><span class="hl-1">, </span><span class="hl-8">userId</span><span class="hl-1"> } = </span><span class="hl-7">req</span><span class="hl-1">.</span><span class="hl-7">body</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">newBook</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">BookModel</span><span class="hl-1">.</span><span class="hl-0">create</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-7">title</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">userId:</span><span class="hl-1"> </span><span class="hl-7">userId</span><span class="hl-1"> || </span><span class="hl-7">req</span><span class="hl-1">.</span><span class="hl-7">user</span><span class="hl-1">.</span><span class="hl-7">id</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">    </span><span class="hl-7">res</span><span class="hl-1">.</span><span class="hl-0">status</span><span class="hl-1">(</span><span class="hl-4">201</span><span class="hl-1">).</span><span class="hl-0">json</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-7">success:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">book:</span><span class="hl-1"> </span><span class="hl-7">newBook</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">  } </span><span class="hl-6">catch</span><span class="hl-1"> (</span><span class="hl-7">error</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-0">next</span><span class="hl-1">(</span><span class="hl-7">error</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">// PUT /api/books/:id - Update a book</span><br/><span class="hl-7">router</span><span class="hl-1">.</span><span class="hl-0">put</span><span class="hl-1">(</span><span class="hl-2">&#39;/books/:id&#39;</span><span class="hl-1">, </span><span class="hl-3">async</span><span class="hl-1"> (</span><span class="hl-7">req</span><span class="hl-1">, </span><span class="hl-7">res</span><span class="hl-1">, </span><span class="hl-7">next</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">try</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-8">title</span><span class="hl-1"> } = </span><span class="hl-7">req</span><span class="hl-1">.</span><span class="hl-7">body</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">bookId</span><span class="hl-1"> = </span><span class="hl-7">req</span><span class="hl-1">.</span><span class="hl-7">params</span><span class="hl-1">.</span><span class="hl-7">id</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> [</span><span class="hl-8">updatedRows</span><span class="hl-1">] = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">BookModel</span><span class="hl-1">.</span><span class="hl-0">update</span><span class="hl-1">(</span><br/><span class="hl-1">      { </span><span class="hl-7">title</span><span class="hl-1"> },</span><br/><span class="hl-1">      { </span><span class="hl-7">where:</span><span class="hl-1"> { </span><span class="hl-7">id:</span><span class="hl-1"> </span><span class="hl-7">bookId</span><span class="hl-1"> } }</span><br/><span class="hl-1">    );</span><br/><br/><span class="hl-1">    </span><span class="hl-6">if</span><span class="hl-1"> (</span><span class="hl-7">updatedRows</span><span class="hl-1"> === </span><span class="hl-4">0</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-6">return</span><span class="hl-1"> </span><span class="hl-7">res</span><span class="hl-1">.</span><span class="hl-0">status</span><span class="hl-1">(</span><span class="hl-4">404</span><span class="hl-1">).</span><span class="hl-0">json</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-7">success:</span><span class="hl-1"> </span><span class="hl-3">false</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-7">message:</span><span class="hl-1"> </span><span class="hl-2">&#39;Book not found&#39;</span><br/><span class="hl-1">      });</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">updatedBook</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">BookModel</span><span class="hl-1">.</span><span class="hl-0">findByPk</span><span class="hl-1">(</span><span class="hl-7">bookId</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-7">res</span><span class="hl-1">.</span><span class="hl-0">json</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-7">success:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">book:</span><span class="hl-1"> </span><span class="hl-7">updatedBook</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">  } </span><span class="hl-6">catch</span><span class="hl-1"> (</span><span class="hl-7">error</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-0">next</span><span class="hl-1">(</span><span class="hl-7">error</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-6">default</span><span class="hl-1"> </span><span class="hl-7">router</span><span class="hl-1">;</span>
</code><button type="button">Copy</button></pre>

<h3 id="advanced-view-usage" class="tsd-anchor-link">Advanced View Usage<a href="#advanced-view-usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Comprehensive view rendering with layouts and data:</p>
<pre><code class="js"><span class="hl-6">import</span><span class="hl-1"> {</span><span class="hl-7">Router</span><span class="hl-1">} </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;express&#39;</span><span class="hl-1">;</span><br/><span class="hl-6">import</span><span class="hl-1"> </span><span class="hl-7">UserModel</span><span class="hl-1"> </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;../models/UserModel.js&#39;</span><span class="hl-1">;</span><br/><span class="hl-6">import</span><span class="hl-1"> </span><span class="hl-7">BookModel</span><span class="hl-1"> </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;../models/BookModel.js&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">router</span><span class="hl-1"> = </span><span class="hl-0">Router</span><span class="hl-1">();</span><br/><br/><span class="hl-5">// Render page with custom layout</span><br/><span class="hl-7">router</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;/profile/:id&#39;</span><span class="hl-1">, </span><span class="hl-3">async</span><span class="hl-1"> (</span><span class="hl-7">req</span><span class="hl-1">, </span><span class="hl-7">res</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">try</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">user</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">UserModel</span><span class="hl-1">.</span><span class="hl-0">findOne</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-7">where:</span><span class="hl-1"> { </span><span class="hl-7">id:</span><span class="hl-1"> </span><span class="hl-7">req</span><span class="hl-1">.</span><span class="hl-7">params</span><span class="hl-1">.</span><span class="hl-7">id</span><span class="hl-1"> },</span><br/><span class="hl-1">      </span><span class="hl-7">include:</span><span class="hl-1"> [</span><span class="hl-2">&#39;ProfileModel&#39;</span><span class="hl-1">]</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">    </span><span class="hl-6">if</span><span class="hl-1"> (!</span><span class="hl-7">user</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-6">return</span><span class="hl-1"> </span><span class="hl-7">res</span><span class="hl-1">.</span><span class="hl-0">status</span><span class="hl-1">(</span><span class="hl-4">404</span><span class="hl-1">).</span><span class="hl-0">render</span><span class="hl-1">(</span><span class="hl-2">&#39;errors/404&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">        </span><span class="hl-7">title:</span><span class="hl-1"> </span><span class="hl-2">&#39;User Not Found&#39;</span><br/><span class="hl-1">      });</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">userBooks</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">BookModel</span><span class="hl-1">.</span><span class="hl-0">findAll</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-7">where:</span><span class="hl-1"> { </span><span class="hl-7">userId:</span><span class="hl-1"> </span><span class="hl-7">req</span><span class="hl-1">.</span><span class="hl-7">params</span><span class="hl-1">.</span><span class="hl-7">id</span><span class="hl-1"> },</span><br/><span class="hl-1">      </span><span class="hl-7">order:</span><span class="hl-1"> [[</span><span class="hl-2">&#39;created&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;DESC&#39;</span><span class="hl-1">]],</span><br/><span class="hl-1">      </span><span class="hl-7">limit:</span><span class="hl-1"> </span><span class="hl-4">10</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">    </span><span class="hl-7">res</span><span class="hl-1">.</span><span class="hl-0">render</span><span class="hl-1">(</span><span class="hl-2">&#39;profile&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">      </span><span class="hl-7">title:</span><span class="hl-1"> </span><span class="hl-2">`</span><span class="hl-3">${</span><span class="hl-7">user</span><span class="hl-15">.</span><span class="hl-7">name</span><span class="hl-3">}</span><span class="hl-2">&#39;s Profile`</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">user</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">books:</span><span class="hl-1"> </span><span class="hl-7">userBooks</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">layout:</span><span class="hl-1"> </span><span class="hl-2">&#39;layout/profile&#39;</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">  } </span><span class="hl-6">catch</span><span class="hl-1"> (</span><span class="hl-7">error</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-0">next</span><span class="hl-1">(</span><span class="hl-7">error</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">// Render partial view without layout</span><br/><span class="hl-7">router</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;/api/partial/user-stats&#39;</span><span class="hl-1">, </span><span class="hl-3">async</span><span class="hl-1"> (</span><span class="hl-7">req</span><span class="hl-1">, </span><span class="hl-7">res</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">try</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">bookCount</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">BookModel</span><span class="hl-1">.</span><span class="hl-0">count</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-7">where:</span><span class="hl-1"> { </span><span class="hl-7">userId:</span><span class="hl-1"> </span><span class="hl-7">req</span><span class="hl-1">.</span><span class="hl-7">user</span><span class="hl-1">.</span><span class="hl-7">id</span><span class="hl-1"> }</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">    </span><span class="hl-7">res</span><span class="hl-1">.</span><span class="hl-0">render</span><span class="hl-1">(</span><span class="hl-2">&#39;partials/user-stats&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">      </span><span class="hl-7">bookCount</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">layout:</span><span class="hl-1"> </span><span class="hl-3">null</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">  } </span><span class="hl-6">catch</span><span class="hl-1"> (</span><span class="hl-7">error</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-0">next</span><span class="hl-1">(</span><span class="hl-7">error</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-6">default</span><span class="hl-1"> </span><span class="hl-7">router</span><span class="hl-1">;</span>
</code><button type="button">Copy</button></pre>

<h3 id="environment-specific-configuration" class="tsd-anchor-link">Environment-Specific Configuration<a href="#environment-specific-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Configure different settings for development, testing, and production:</p>
<pre><code class="js"><span class="hl-5">// config/config.js</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">isDevelopment</span><span class="hl-1"> = </span><span class="hl-7">process</span><span class="hl-1">.</span><span class="hl-7">env</span><span class="hl-1">.</span><span class="hl-8">NODE_ENV</span><span class="hl-1"> === </span><span class="hl-2">&#39;development&#39;</span><span class="hl-1">;</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">isProduction</span><span class="hl-1"> = </span><span class="hl-7">process</span><span class="hl-1">.</span><span class="hl-7">env</span><span class="hl-1">.</span><span class="hl-8">NODE_ENV</span><span class="hl-1"> === </span><span class="hl-2">&#39;production&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-6">default</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-7">env_path:</span><span class="hl-1"> </span><span class="hl-2">&#39;.env&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-7">cors_enabled:</span><span class="hl-1"> </span><span class="hl-7">isDevelopment</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-7">max_body_size:</span><span class="hl-1"> </span><span class="hl-7">isProduction</span><span class="hl-1"> ? </span><span class="hl-2">&#39;10mb&#39;</span><span class="hl-1"> : </span><span class="hl-2">&#39;100mb&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-5">// Custom error handling</span><br/><span class="hl-1">  </span><span class="hl-0">hook_handle_error</span><span class="hl-7">:</span><span class="hl-1"> (</span><span class="hl-7">error</span><span class="hl-1">, </span><span class="hl-7">req</span><span class="hl-1">, </span><span class="hl-7">res</span><span class="hl-1">, </span><span class="hl-7">next</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">if</span><span class="hl-1"> (</span><span class="hl-7">error</span><span class="hl-1">.</span><span class="hl-7">status</span><span class="hl-1"> === </span><span class="hl-4">404</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-7">res</span><span class="hl-1">.</span><span class="hl-0">status</span><span class="hl-1">(</span><span class="hl-4">404</span><span class="hl-1">).</span><span class="hl-0">render</span><span class="hl-1">(</span><span class="hl-2">&#39;errors/404&#39;</span><span class="hl-1">, { </span><br/><span class="hl-1">        </span><span class="hl-7">title:</span><span class="hl-1"> </span><span class="hl-2">&#39;Page Not Found&#39;</span><br/><span class="hl-1">      });</span><br/><span class="hl-1">    } </span><span class="hl-6">else</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-6">if</span><span class="hl-1"> (</span><span class="hl-7">isProduction</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-0">error</span><span class="hl-1">(</span><span class="hl-2">&#39;Server Error:&#39;</span><span class="hl-1">, </span><span class="hl-7">error</span><span class="hl-1">);</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">      </span><br/><span class="hl-1">      </span><span class="hl-7">res</span><span class="hl-1">.</span><span class="hl-0">status</span><span class="hl-1">(</span><span class="hl-4">500</span><span class="hl-1">).</span><span class="hl-0">render</span><span class="hl-1">(</span><span class="hl-2">&#39;errors/500&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">        </span><span class="hl-7">title:</span><span class="hl-1"> </span><span class="hl-2">&#39;Server Error&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-7">error:</span><span class="hl-1"> </span><span class="hl-7">isDevelopment</span><span class="hl-1"> ? </span><span class="hl-7">error</span><span class="hl-1"> : </span><span class="hl-3">null</span><br/><span class="hl-1">      });</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  },</span><br/><br/><span class="hl-1">  </span><span class="hl-5">// Custom Ajax detection</span><br/><span class="hl-1">  </span><span class="hl-0">is_ajax</span><span class="hl-7">:</span><span class="hl-1"> (</span><span class="hl-7">req</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">return</span><span class="hl-1"> </span><span class="hl-7">req</span><span class="hl-1">.</span><span class="hl-7">xhr</span><span class="hl-1"> || </span><br/><span class="hl-1">           </span><span class="hl-7">req</span><span class="hl-1">.</span><span class="hl-7">path</span><span class="hl-1">.</span><span class="hl-0">startsWith</span><span class="hl-1">(</span><span class="hl-2">&#39;/api/&#39;</span><span class="hl-1">) || </span><br/><span class="hl-1">           </span><span class="hl-7">req</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;Accept&#39;</span><span class="hl-1">)?.</span><span class="hl-0">includes</span><span class="hl-1">(</span><span class="hl-2">&#39;application/json&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">};</span>
</code><button type="button">Copy</button></pre>

<h3 id="error-handling" class="tsd-anchor-link">Error Handling<a href="#error-handling" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Implement proper error handling in your routes:</p>
<pre><code class="js"><span class="hl-6">import</span><span class="hl-1"> {</span><span class="hl-7">Router</span><span class="hl-1">} </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;express&#39;</span><span class="hl-1">;</span><br/><span class="hl-6">import</span><span class="hl-1"> </span><span class="hl-7">UserModel</span><span class="hl-1"> </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;../models/UserModel.js&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">router</span><span class="hl-1"> = </span><span class="hl-0">Router</span><span class="hl-1">();</span><br/><br/><span class="hl-5">// Route with comprehensive error handling</span><br/><span class="hl-7">router</span><span class="hl-1">.</span><span class="hl-0">post</span><span class="hl-1">(</span><span class="hl-2">&#39;/users&#39;</span><span class="hl-1">, </span><span class="hl-3">async</span><span class="hl-1"> (</span><span class="hl-7">req</span><span class="hl-1">, </span><span class="hl-7">res</span><span class="hl-1">, </span><span class="hl-7">next</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">try</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-8">name</span><span class="hl-1">, </span><span class="hl-8">email</span><span class="hl-1">, </span><span class="hl-8">password</span><span class="hl-1"> } = </span><span class="hl-7">req</span><span class="hl-1">.</span><span class="hl-7">body</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-5">// Input validation</span><br/><span class="hl-1">    </span><span class="hl-6">if</span><span class="hl-1"> (!</span><span class="hl-7">email</span><span class="hl-1"> || !</span><span class="hl-7">email</span><span class="hl-1">.</span><span class="hl-0">includes</span><span class="hl-1">(</span><span class="hl-2">&#39;@&#39;</span><span class="hl-1">)) {</span><br/><span class="hl-1">      </span><span class="hl-6">return</span><span class="hl-1"> </span><span class="hl-7">res</span><span class="hl-1">.</span><span class="hl-0">status</span><span class="hl-1">(</span><span class="hl-4">400</span><span class="hl-1">).</span><span class="hl-0">json</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-7">success:</span><span class="hl-1"> </span><span class="hl-3">false</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-7">message:</span><span class="hl-1"> </span><span class="hl-2">&#39;Invalid email format&#39;</span><br/><span class="hl-1">      });</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-6">if</span><span class="hl-1"> (!</span><span class="hl-7">password</span><span class="hl-1"> || </span><span class="hl-7">password</span><span class="hl-1">.</span><span class="hl-7">length</span><span class="hl-1"> &lt; </span><span class="hl-4">6</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-6">return</span><span class="hl-1"> </span><span class="hl-7">res</span><span class="hl-1">.</span><span class="hl-0">status</span><span class="hl-1">(</span><span class="hl-4">400</span><span class="hl-1">).</span><span class="hl-0">json</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-7">success:</span><span class="hl-1"> </span><span class="hl-3">false</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-7">message:</span><span class="hl-1"> </span><span class="hl-2">&#39;Password must be at least 6 characters&#39;</span><br/><span class="hl-1">      });</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-5">// Check if user already exists</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">existingUser</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">UserModel</span><span class="hl-1">.</span><span class="hl-0">findOne</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-7">where:</span><span class="hl-1"> { </span><span class="hl-7">email</span><span class="hl-1"> }</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-6">if</span><span class="hl-1"> (</span><span class="hl-7">existingUser</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-6">return</span><span class="hl-1"> </span><span class="hl-7">res</span><span class="hl-1">.</span><span class="hl-0">status</span><span class="hl-1">(</span><span class="hl-4">409</span><span class="hl-1">).</span><span class="hl-0">json</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-7">success:</span><span class="hl-1"> </span><span class="hl-3">false</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-7">message:</span><span class="hl-1"> </span><span class="hl-2">&#39;User already exists with this email&#39;</span><br/><span class="hl-1">      });</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-5">// Create user</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">user</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">UserModel</span><span class="hl-1">.</span><span class="hl-0">create</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-7">name</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">email</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">password</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-7">res</span><span class="hl-1">.</span><span class="hl-0">status</span><span class="hl-1">(</span><span class="hl-4">201</span><span class="hl-1">).</span><span class="hl-0">json</span><span class="hl-1">({ </span><br/><span class="hl-1">      </span><span class="hl-7">success:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">, </span><br/><span class="hl-1">      </span><span class="hl-7">user:</span><span class="hl-1"> { </span><br/><span class="hl-1">        </span><span class="hl-7">id:</span><span class="hl-1"> </span><span class="hl-7">user</span><span class="hl-1">.</span><span class="hl-7">id</span><span class="hl-1">, </span><br/><span class="hl-1">        </span><span class="hl-7">name:</span><span class="hl-1"> </span><span class="hl-7">user</span><span class="hl-1">.</span><span class="hl-7">name</span><span class="hl-1">, </span><br/><span class="hl-1">        </span><span class="hl-7">email:</span><span class="hl-1"> </span><span class="hl-7">user</span><span class="hl-1">.</span><span class="hl-7">email</span><span class="hl-1"> </span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">    </span><br/><span class="hl-1">  } </span><span class="hl-6">catch</span><span class="hl-1"> (</span><span class="hl-7">error</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-0">next</span><span class="hl-1">(</span><span class="hl-7">error</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-6">default</span><span class="hl-1"> </span><span class="hl-7">router</span><span class="hl-1">;</span>
</code><button type="button">Copy</button></pre>

<h2 id="release-notes" class="tsd-anchor-link">Release Notes<a href="#release-notes" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>All changes and version history can be found in the <a href="media/CHANGELOG.md">CHANGELOG.md</a>.</p>
<h2 id="author" class="tsd-anchor-link">Author<a href="#author" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p><strong>Takuya Motoshima</strong></p>
<ul>
<li><a href="https://github.com/takuya-motoshima">github/takuya-motoshima</a></li>
<li><a href="https://x.com/takuya_motech">x/takuya_motech</a></li>
<li><a href="https://www.facebook.com/takuya.motoshima.7">facebook/takuya.motoshima.7</a></li>
</ul>
<h2 id="license" class="tsd-anchor-link">License<a href="#license" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p><a href="media/LICENSE">MIT</a></p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#express-sweet"><span>EXPRESS <wbr/>SWEET</span></a><ul><li><a href="#features"><span>Features</span></a></li><li><a href="#api-reference"><span>API <wbr/>Reference</span></a></li><li><a href="#express-sweet-generator"><span>EXPRESS <wbr/>SWEET <wbr/>Generator</span></a></li><li><a href="#quick-start"><span>Quick <wbr/>Start</span></a></li><li><ul><li><a href="#database-setup"><span>Database <wbr/>Setup</span></a></li><li><a href="#database-configuration"><span>Database <wbr/>Configuration</span></a></li><li><a href="#environment-configuration"><span>Environment <wbr/>Configuration</span></a></li><li><a href="#running-the-application"><span>Running the <wbr/>Application</span></a></li></ul></li><li><a href="#project-structure"><span>Project <wbr/>Structure</span></a></li><li><ul><li><a href="#key-directories-explained"><span>Key <wbr/>Directories <wbr/>Explained</span></a></li></ul></li><li><a href="#configuration"><span>Configuration</span></a></li><li><ul><li><a href="#environment-variables"><span>Environment <wbr/>Variables</span></a></li><li><a href="#base-configuration-configconfigjs"><span>Base <wbr/>Configuration (config/config.js)</span></a></li><li><a href="#database-configuration-configdatabasejs"><span>Database <wbr/>Configuration (config/database.js)</span></a></li><li><a href="#authentication-configuration-configauthenticationjs"><span>Authentication <wbr/>Configuration (config/authentication.js)</span></a></li><li><a href="#view-configuration-configviewjs"><span>View <wbr/>Configuration (config/view.js)</span></a></li><li><a href="#logging-configuration-configloggingjs"><span>Logging <wbr/>Configuration (config/logging.js)</span></a></li></ul></li><li><a href="#routing"><span>Routing</span></a></li><li><ul><li><a href="#basic-routing"><span>Basic <wbr/>Routing</span></a></li><li><a href="#nested-routing"><span>Nested <wbr/>Routing</span></a></li><li><a href="#default-routing"><span>Default <wbr/>Routing</span></a></li><li><a href="#routing-methods"><span>Routing <wbr/>Methods</span></a></li></ul></li><li><a href="#model"><span>Model</span></a></li><li><ul><li><a href="#accessing-models"><span>Accessing <wbr/>Models</span></a></li><li><a href="#creating-custom-models"><span>Creating <wbr/>Custom <wbr/>Models</span></a></li><li><a href="#model-relationships"><span>Model <wbr/>Relationships</span></a></li></ul></li><li><a href="#view-system"><span>View <wbr/>System</span></a></li><li><ul><li><a href="#layout-usage"><span>Layout <wbr/>Usage</span></a></li><li><a href="#template-syntax"><span>Template <wbr/>Syntax</span></a></li><li><a href="#handlebars-helpers"><span>Handlebars <wbr/>Helpers</span></a></li><li><ul><li><a href="#array-helpers"><span>Array <wbr/>Helpers</span></a></li><li><a href="#comparison-helpers"><span>Comparison <wbr/>Helpers</span></a></li><li><a href="#html-helpers"><span>HTML <wbr/>Helpers</span></a></li><li><a href="#object-helpers"><span>Object <wbr/>Helpers</span></a></li><li><a href="#string-helpers"><span>String <wbr/>Helpers</span></a></li><li><a href="#date-helpers"><span>Date <wbr/>Helpers</span></a></li><li><a href="#number-helpers"><span>Number <wbr/>Helpers</span></a></li><li><a href="#math-helpers"><span>Math <wbr/>Helpers</span></a></li></ul></li></ul></li><li><a href="#authentication"><span>Authentication</span></a></li><li><ul><li><a href="#login-example"><span>Login <wbr/>Example</span></a></li><li><ul><li><a href="#asynchronous-login-ajax"><span>Asynchronous <wbr/>Login (<wbr/>Ajax)</span></a></li><li><a href="#synchronous-login-form-submit"><span>Synchronous <wbr/>Login (<wbr/>Form <wbr/>Submit)</span></a></li></ul></li><li><a href="#logout-example"><span>Logout <wbr/>Example</span></a></li></ul></li><li><a href="#examples"><span>Examples</span></a></li><li><ul><li><a href="#restful-api-development"><span>RES<wbr/>Tful <wbr/>API <wbr/>Development</span></a></li><li><a href="#advanced-view-usage"><span>Advanced <wbr/>View <wbr/>Usage</span></a></li><li><a href="#environment-specific-configuration"><span>Environment-<wbr/>Specific <wbr/>Configuration</span></a></li><li><a href="#error-handling"><span>Error <wbr/>Handling</span></a></li></ul></li><li><a href="#release-notes"><span>Release <wbr/>Notes</span></a></li><li><a href="#author"><span>Author</span></a></li><li><a href="#license"><span>License</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html">Express Sweet API Reference - v3.0.0</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
